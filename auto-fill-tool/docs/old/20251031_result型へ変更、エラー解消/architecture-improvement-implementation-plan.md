# ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ã‚¿ã‚¹ã‚¯å®Ÿè£…è¨ˆç”»æ›¸

**ä½œæˆæ—¥**: 2025-10-22
**æœ€çµ‚æ›´æ–°**: 2025-11-02
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.5
**å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Auto Fill Tool - Chromeæ‹¡å¼µæ©Ÿèƒ½

---

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [æœ€æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³](#æœ€æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³)
3. [æ®‹ã‚¿ã‚¹ã‚¯å®Ÿè£…è¨ˆç”»](#æ®‹ã‚¿ã‚¹ã‚¯å®Ÿè£…è¨ˆç”»)
4. [ã‚¿ã‚¹ã‚¯1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®æ´»ç”¨æ‹¡å¤§](#ã‚¿ã‚¹ã‚¯1-ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®æ´»ç”¨æ‹¡å¤§)
5. [ã‚¿ã‚¹ã‚¯2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®å°å…¥](#ã‚¿ã‚¹ã‚¯2-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®å°å…¥)
6. [ã‚¿ã‚¹ã‚¯4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®èª¿æŸ»ãƒ»å®Ÿæ–½](#ã‚¿ã‚¹ã‚¯4-ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®èª¿æŸ»å®Ÿæ–½)
7. [å®Ÿæ–½é †åºã¨ä¾å­˜é–¢ä¿‚](#å®Ÿæ–½é †åºã¨ä¾å­˜é–¢ä¿‚)

---

## æ¦‚è¦

æœ¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ã®æ®‹ã‚¿ã‚¹ã‚¯ã«ã¤ã„ã¦ã€è©³ç´°ãªå®Ÿè£…è¨ˆç”»ã‚’æä¾›ã—ã¾ã™ã€‚

### å¯¾è±¡ã‚¿ã‚¹ã‚¯ï¼ˆæ›´æ–°ï¼‰

| ã‚¿ã‚¹ã‚¯ | å„ªå…ˆåº¦ | è¦‹ç©å·¥æ•° | çŠ¶æ³ |
|--------|--------|----------|------|
| ~~Task 3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–~~ | âœ… å®Œäº† | ~~2-3æ—¥~~ | v3.2.0ã§å®Œäº† |
| ~~Task 2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°~~ | âœ… å®Œäº† | ~~1-2é€±é–“~~ | å®Ÿè£…å®Œäº† |
| ~~Task 1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆæ´»ç”¨æ‹¡å¤§~~ | âœ… å®Œäº† | ~~1-2é€±é–“~~ | Phase 4å®Œäº† |
| **Task 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** | ğŸ”´ High | 2-3æ—¥ | **å®Ÿæ–½ä¸­** |

---

## æœ€æ–°ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçŠ¶æ³

### âœ… å®Œäº†æ¸ˆã¿å®Ÿè£…

- **Task 3**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–å®Œäº†ï¼ˆv3.2.0ï¼‰
  - Phase 2-1: Bidirectional Sync Parallelizationï¼ˆ50%é«˜é€ŸåŒ–ï¼‰
  - Phase 2-2: Repository Optimizationï¼ˆ85-90%é«˜é€ŸåŒ–ï¼‰
  - Phase 2-3: Chrome Storage Batch Loadingï¼ˆ67%APIã‚³ãƒ¼ãƒ«å‰Šæ¸›ï¼‰
- **Task 2**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…å®Œäº†ï¼ˆ2025-10-31ï¼‰
  - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¨¼åƒ
  - ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
  - ä¸»è¦æ“ä½œã®è‡ªå‹•æ¸¬å®šé–‹å§‹
- **Task 1**: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆæ´»ç”¨æ‹¡å¤§ Phase 4å®Œäº†ï¼ˆ2025-10-31ï¼‰
  - 14å€‹ã®UseCaseã«EventBusçµ±åˆå®Œäº†
  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£UseCaseçµ±åˆå®Œäº†
  - EventBusæ§‹é€ å•é¡Œå®Œå…¨è§£æ±º
- **v3.1.0**: ç”»é¢é·ç§»å¯¾å¿œè‡ªå‹•å…¥åŠ›æ©Ÿèƒ½å®Ÿè£…å®Œäº†
- **v3.0.0**: UI/UXå¤§å¹…æ”¹å–„ï¼ˆ5ãƒ•ã‚§ãƒ¼ã‚ºå®Œäº†ï¼‰

### ğŸ”§ æŠ€è¡“çš„æ”¹å–„

- **ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ **: Tailwind CSS v3ã§å®‰å®šåŒ–
- **ãƒ†ã‚¹ãƒˆçŠ¶æ³**: 1,308 passed, 2 failed, 19 skipped, 1,329 total
- **ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–æ‹ åº¦**: 98%é”æˆ
- **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: 96.17%é”æˆ
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ä¸»è¦å‡¦ç†ã§50-90%ã®æ€§èƒ½å‘ä¸Šé”æˆ
- **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•**: 14å€‹ã®UseCaseã§ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆå®Œäº†

### ğŸ¯ ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯

**Task 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®èª¿æŸ»ãƒ»å®Ÿæ–½ï¼ˆå®Ÿæ–½ä¸­ï¼‰**

1. âœ… **Task 1**: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆæ´»ç”¨æ‹¡å¤§ - **å®Œäº†**ï¼ˆ14å€‹ã®UseCaseçµ±åˆæ¸ˆã¿ï¼‰
2. âœ… **Task 2**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° - **å®Œäº†**ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¨¼åƒä¸­ï¼‰
3. âœ… **Task 3**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– - **å®Œäº†**ï¼ˆ50-90%æ€§èƒ½å‘ä¸Šé”æˆï¼‰
4. ğŸ”„ **Task 4**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®èª¿æŸ»ãƒ»å®Ÿæ–½ - **å®Ÿæ–½ä¸­**

---

## æ®‹ã‚¿ã‚¹ã‚¯å®Ÿè£…è¨ˆç”»

### ğŸ¯ å®Ÿæ–½é †åºï¼ˆå„ªå…ˆåº¦é †ï¼‰

1. **Task 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** (High Priority) - **å®Ÿæ–½ä¸­**
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»ã®å®Ÿæ–½
   - è„†å¼±æ€§ã®ç‰¹å®šã¨ä¿®æ­£
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆã®è¿½åŠ 

### ğŸ“… å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

| Week | Task | å†…å®¹ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|------|------|------|-----------|
| âœ… Week 1-2 | Task 3 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ï¼ˆ67%æ”¹å–„é”æˆï¼‰ | **å®Œäº†** |
| âœ… Week 3-4 | Task 1 | ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆï¼ˆ14å€‹ã®UseCaseçµ±åˆï¼‰ | **å®Œäº†** |
| âœ… Week 5-6 | Task 2 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¨¼åƒï¼‰ | **å®Œäº†** |
| ğŸ”„ Week 7 | Task 4 | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆCSPã€XSSå¯¾ç­–ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ï¼‰ | **å®Ÿæ–½ä¸­** |

**ğŸ¯ é€²æ—ç‡: 75% â†’ 100% (4/4ã‚¿ã‚¹ã‚¯å®Ÿæ–½ä¸­)**

---

**ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸºæœ¬åŸå‰‡ï¼ˆå†ç¢ºèªï¼‰**:

```
ä¾å­˜ã®æ–¹å‘: å¤–å´ â†’ å†…å´ï¼ˆå†…å´ã¯å¤–å´ã‚’çŸ¥ã‚‰ãªã„ï¼‰

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Presentation Layer                      â”‚ â† UIã€Controllerã€View
â”‚ (æœ€ã‚‚å¤–å´)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¾å­˜å¯èƒ½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Infrastructure Layer                    â”‚ â† å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€APIã€DB
â”‚ (å¤–å´)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¾å­˜å¯èƒ½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UseCase Layer (Application)             â”‚ â† ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯èª¿æ•´
â”‚ (ä¸­é–“)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“ ä¾å­˜å¯èƒ½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Domain Layer                            â”‚ â† ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯
â”‚ (æœ€ã‚‚å†…å´ãƒ»ç‹¬ç«‹)                         â”‚ â† å¤–éƒ¨ã«ä¾å­˜ã—ãªã„
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### âš ï¸ ã‚¿ã‚¹ã‚¯1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã§ã®é•åãƒªã‚¹ã‚¯

#### é•åãƒ‘ã‚¿ãƒ¼ãƒ³1: UseCaseãŒEventBusã®å…·è±¡ã‚¯ãƒ©ã‚¹ã«ç›´æ¥ä¾å­˜

**âŒ é•åã‚³ãƒ¼ãƒ‰**:
```typescript
// src/usecases/websites/SaveWebsiteUseCase.ts
import { EventBus } from '@domain/events/EventBus'; // å…·è±¡ã‚¯ãƒ©ã‚¹

export class SaveWebsiteUseCase {
  constructor(
    private repository: WebsiteRepository,
    private eventBus?: EventBus // â† å…·è±¡ã‚¯ãƒ©ã‚¹ã«ä¾å­˜
  ) {}
}
```

**å•é¡Œç‚¹**:
- UseCaseãŒç‰¹å®šã®å®Ÿè£…ï¼ˆEventBusï¼‰ã«å¼·ãçµåˆã—ã¦ã„ã‚‹
- ãƒ†ã‚¹ãƒˆæ™‚ã®ãƒ¢ãƒƒã‚¯ä½œæˆãŒå›°é›£
- å°†æ¥çš„ã«EventBusã®å®Ÿè£…ã‚’å¤‰æ›´ã™ã‚‹éš›ã«å…¨UseCaseã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

**âœ… æ­£ã—ã„ã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/interfaces/IEventPublisher.ts
export interface IEventPublisher {
  publish<T extends DomainEvent>(event: T): void;
}

// src/usecases/websites/SaveWebsiteUseCase.ts
import { IEventPublisher } from '@domain/interfaces';

export class SaveWebsiteUseCase {
  constructor(
    private repository: WebsiteRepository,
    private eventPublisher?: IEventPublisher // â† ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜
  ) {}

  async execute(input: SaveWebsiteInput): Promise<SaveWebsiteOutput> {
    // ...
    this.eventPublisher?.publish(new WebsiteCreatedEvent({ ... }));
    // ...
  }
}

// src/domain/events/EventBus.ts
export class EventBus implements IEventPublisher {
  publish<T extends DomainEvent>(event: T): void {
    // å®Ÿè£…è©³ç´°
  }
  // ãã®ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆsubscribeç­‰ï¼‰
}
```

**æ”¹å–„åŠ¹æœ**:
- ä¾å­˜æ€§é€†è»¢ã®åŸå‰‡ï¼ˆDIPï¼‰ã«æº–æ‹ 
- ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®å‘ä¸Š
- å®Ÿè£…ã®å·®ã—æ›¿ãˆãŒå®¹æ˜“

#### é•åãƒ‘ã‚¿ãƒ¼ãƒ³2: Domainå±¤ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒInfrastructureå±¤ã®å‹ã«ä¾å­˜

**âŒ é•åã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/events/events/WebsiteEvents.ts
import { ChromeStorageData } from '@infrastructure/storage/types'; // â† Infrastructureå±¤ã«ä¾å­˜

export class WebsiteCreatedEvent extends DomainEvent {
  constructor(
    public readonly websiteId: string,
    public readonly storageData: ChromeStorageData // â† å¤–éƒ¨ã®å‹ã«ä¾å­˜
  ) {
    super('WebsiteCreatedEvent');
  }
}
```

**å•é¡Œç‚¹**:
- Domainå±¤ãŒInfrastructureå±¤ã«ä¾å­˜ã—ã¦ã„ã‚‹ï¼ˆé€†æ–¹å‘ã®ä¾å­˜ï¼‰
- Domainå±¤ã®ç‹¬ç«‹æ€§ãŒæãªã‚ã‚Œã‚‹

**âœ… æ­£ã—ã„ã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/events/events/WebsiteEvents.ts
export interface WebsiteCreatedEventData {
  websiteId: string;
  websiteName: string;
  url: string;
  timestamp: number;
}

export class WebsiteCreatedEvent extends DomainEvent {
  constructor(public readonly data: WebsiteCreatedEventData) {
    super('WebsiteCreatedEvent');
  }
}

// Infrastructureå±¤ã§ã®ãƒãƒƒãƒ”ãƒ³ã‚°ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
// src/infrastructure/adapters/StorageEventAdapter.ts
export class StorageEventAdapter {
  toStorageData(event: WebsiteCreatedEvent): ChromeStorageData {
    return {
      // Domainå±¤ã®ãƒ‡ãƒ¼ã‚¿ã‚’Infrastructureå±¤ã®å½¢å¼ã«å¤‰æ›
    };
  }
}
```

---

### âš ï¸ ã‚¿ã‚¹ã‚¯2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã§ã®é•åãƒªã‚¹ã‚¯

#### é•åãƒ‘ã‚¿ãƒ¼ãƒ³3: UseCaseãŒInfrastructureå±¤ã®PerformanceMonitorã«ç›´æ¥ä¾å­˜

**âŒ é•åã‚³ãƒ¼ãƒ‰**:
```typescript
// src/usecases/auto-fill/ExecuteAutoFillUseCase.ts
import { PerformanceMonitor } from '@infrastructure/monitoring/PerformanceMonitor'; // â† Infrastructureå±¤

export class ExecuteAutoFillUseCase {
  constructor(
    private adapter: AutoFillAdapter,
    private performanceMonitor?: PerformanceMonitor // â† Infrastructureå±¤ã«ä¾å­˜
  ) {}
}
```

**å•é¡Œç‚¹**:
- **é‡å¤§ãªé•å**: UseCaseå±¤ï¼ˆå†…å´ï¼‰ãŒInfrastructureå±¤ï¼ˆå¤–å´ï¼‰ã«ä¾å­˜ã—ã¦ã„ã‚‹
- ä¾å­˜ã®æ–¹å‘ãŒé€†è»¢ã—ã¦ã„ã‚‹
- ãƒ†ã‚¹ãƒˆãŒå›°é›£ã€å®Ÿè£…ã®å·®ã—æ›¿ãˆãŒã§ããªã„

**âœ… æ­£ã—ã„ã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/interfaces/IPerformanceMonitor.ts
export interface IPerformanceMonitor {
  start(operationName: string): string;
  end(monitorId: string, metadata?: Record<string, unknown>): void;
}

// src/usecases/auto-fill/ExecuteAutoFillUseCase.ts
import { IPerformanceMonitor } from '@domain/interfaces';

export class ExecuteAutoFillUseCase {
  constructor(
    private adapter: AutoFillAdapter,
    private performanceMonitor?: IPerformanceMonitor // â† Domainå±¤ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜
  ) {}

  async execute(input: ExecuteAutoFillInput): Promise<ExecuteAutoFillOutput> {
    const monitorId = this.performanceMonitor?.start('auto-fill-execution');
    try {
      const result = await this.adapter.executeAutoFill(input.steps);
      this.performanceMonitor?.end(monitorId, { success: true });
      return { success: true, result };
    } catch (error) {
      this.performanceMonitor?.end(monitorId, { success: false });
      throw error;
    }
  }
}

// src/infrastructure/monitoring/PerformanceMonitor.ts
import { IPerformanceMonitor } from '@domain/interfaces';

export class PerformanceMonitor implements IPerformanceMonitor {
  start(operationName: string): string {
    // Chrome Performance API ã‚’ä½¿ã£ãŸå®Ÿè£…
    const monitorId = crypto.randomUUID();
    performance.mark(`${operationName}-start-${monitorId}`);
    return monitorId;
  }

  end(monitorId: string, metadata?: Record<string, unknown>): void {
    // è¨ˆæ¸¬çµ‚äº†å‡¦ç†
  }
}
```

**æ”¹å–„åŠ¹æœ**:
- ä¾å­˜ã®æ–¹å‘ãŒæ­£ã—ã„ï¼ˆUseCase â†’ Domainï¼‰
- PerformanceMonitorã®å®Ÿè£…ã‚’ãƒ†ã‚¹ãƒˆç”¨ã®ã‚¹ã‚¿ãƒ–ã«å·®ã—æ›¿ãˆå¯èƒ½
- Chrome APIä»¥å¤–ã®è¨ˆæ¸¬ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚‚å¯¾å¿œå¯èƒ½

#### é•åãƒ‘ã‚¿ãƒ¼ãƒ³4: Domainå±¤ãŒChrome APIã«ç›´æ¥ä¾å­˜

**âŒ é•åã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/entities/PerformanceMetric.ts
export class PerformanceMetric {
  static create(): PerformanceMetric {
    const startTime = performance.now(); // â† Chrome APIã«ç›´æ¥ä¾å­˜
    // ...
  }
}
```

**å•é¡Œç‚¹**:
- Domainå±¤ãŒãƒ–ãƒ©ã‚¦ã‚¶APIã«ä¾å­˜ã—ã¦ã„ã‚‹
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆãŒå›°é›£ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒãŒå¿…è¦ï¼‰
- Node.jsç’°å¢ƒç­‰ã§å‹•ä½œã—ãªã„

**âœ… æ­£ã—ã„ã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/interfaces/ITimeProvider.ts
export interface ITimeProvider {
  now(): number;
}

// src/domain/entities/PerformanceMetric.ts
export class PerformanceMetric {
  static create(timeProvider: ITimeProvider): PerformanceMetric {
    const startTime = timeProvider.now(); // â† ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±
    // ...
  }
}

// src/infrastructure/adapters/ChromeTimeProvider.ts
export class ChromeTimeProvider implements ITimeProvider {
  now(): number {
    return performance.now();
  }
}

// ãƒ†ã‚¹ãƒˆç”¨
export class MockTimeProvider implements ITimeProvider {
  constructor(private currentTime: number = 0) {}
  now(): number {
    return this.currentTime;
  }
  setTime(time: number): void {
    this.currentTime = time;
  }
}
```

---

### âš ï¸ ã‚¿ã‚¹ã‚¯4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã§ã®é•åãƒªã‚¹ã‚¯

#### é•åãƒ‘ã‚¿ãƒ¼ãƒ³5: Domainå±¤ãŒå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆzxcvbnï¼‰ã«ç›´æ¥ä¾å­˜

**âŒ é•åã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/entities/MasterPasswordPolicy.ts
import zxcvbn from 'zxcvbn'; // â† å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ç›´æ¥ä¾å­˜

export class MasterPasswordPolicy {
  validatePassword(password: string): ValidationResult {
    const result = zxcvbn(password); // â† å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨
    const entropy = result.guesses_log10 * Math.log2(10);

    if (entropy < 80) {
      return { valid: false, message: 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¼±ã™ãã¾ã™' };
    }
    return { valid: true };
  }
}
```

**å•é¡Œç‚¹**:
- **é‡å¤§ãªé•å**: Domainå±¤ãŒå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ä¾å­˜ã—ã¦ã„ã‚‹
- Domainå±¤ã®ç‹¬ç«‹æ€§ãŒæãªã‚ã‚Œã‚‹
- zxcvbnãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¤‰æ›´ã™ã‚‹éš›ã€Domainå±¤ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ãƒ¢ãƒƒã‚¯åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚‹

**âœ… æ­£ã—ã„ã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/interfaces/IPasswordStrengthChecker.ts
export interface PasswordStrengthResult {
  score: number; // 0-4
  entropy: number; // ãƒ“ãƒƒãƒˆ
  suggestions: string[];
}

export interface IPasswordStrengthChecker {
  checkStrength(password: string): PasswordStrengthResult;
}

// src/domain/entities/MasterPasswordPolicy.ts
export class MasterPasswordPolicy {
  private static MIN_LENGTH = 12;
  private static MIN_ENTROPY = 80;

  constructor(private strengthChecker: IPasswordStrengthChecker) {}

  validatePassword(password: string): ValidationResult {
    // 1. é•·ã•ãƒã‚§ãƒƒã‚¯
    if (password.length < MasterPasswordPolicy.MIN_LENGTH) {
      return {
        valid: false,
        message: `æœ€ä½${MasterPasswordPolicy.MIN_LENGTH}æ–‡å­—ä»¥ä¸Šå¿…è¦ã§ã™`,
      };
    }

    // 2. è¤‡é›‘åº¦ãƒã‚§ãƒƒã‚¯ï¼ˆå¤§æ–‡å­—ã€å°æ–‡å­—ã€æ•°å­—ã€è¨˜å·ï¼‰
    const hasUpperCase = /[A-Z]/.test(password);
    const hasLowerCase = /[a-z]/.test(password);
    const hasDigit = /\d/.test(password);
    const hasSymbol = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password);

    if (!(hasUpperCase && hasLowerCase && hasDigit && hasSymbol)) {
      return {
        valid: false,
        message: 'å¤§æ–‡å­—ã€å°æ–‡å­—ã€æ•°å­—ã€è¨˜å·ã‚’ã™ã¹ã¦å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™',
      };
    }

    // 3. è¾æ›¸æ”»æ’ƒè€æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨ã€ä½†ã—ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ï¼‰
    const result = this.strengthChecker.checkStrength(password);

    if (result.entropy < MasterPasswordPolicy.MIN_ENTROPY) {
      return {
        valid: false,
        message: `ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¼±ã™ãã¾ã™ï¼ˆå¼·åº¦ã‚¹ã‚³ã‚¢: ${result.score}/4ï¼‰`,
        suggestions: result.suggestions,
      };
    }

    return { valid: true };
  }
}

// src/infrastructure/security/ZxcvbnPasswordStrengthChecker.ts
import zxcvbn from 'zxcvbn';
import { IPasswordStrengthChecker, PasswordStrengthResult } from '@domain/interfaces';

export class ZxcvbnPasswordStrengthChecker implements IPasswordStrengthChecker {
  checkStrength(password: string): PasswordStrengthResult {
    const result = zxcvbn(password);
    return {
      score: result.score,
      entropy: result.guesses_log10 * Math.log2(10),
      suggestions: result.feedback.suggestions,
    };
  }
}

// ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ¢ãƒƒã‚¯
export class MockPasswordStrengthChecker implements IPasswordStrengthChecker {
  constructor(private mockResult: PasswordStrengthResult) {}

  checkStrength(password: string): PasswordStrengthResult {
    return this.mockResult;
  }
}
```

**æ”¹å–„åŠ¹æœ**:
- Domainå±¤ãŒå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ä¾å­˜ã—ãªã„ï¼ˆä¾å­˜æ€§é€†è»¢ï¼‰
- zxcvbnã‚’åˆ¥ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆä¾‹: passwdqc, cracklibç­‰ï¼‰ã«å¤‰æ›´ã—ã¦ã‚‚ã€Domainå±¤ã¯å¤‰æ›´ä¸è¦
- ãƒ†ã‚¹ãƒˆã§ãƒ¢ãƒƒã‚¯ã‚’æ³¨å…¥ã§ãã€å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã—ã§ãƒ†ã‚¹ãƒˆå¯èƒ½
- Domainå±¤ãŒç´”ç²‹ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®ã¿ã«é›†ä¸­ã§ãã‚‹

#### é•åãƒ‘ã‚¿ãƒ¼ãƒ³6: Domainå±¤ãŒDOMPurifyã«ç›´æ¥ä¾å­˜

**âŒ é•åã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/services/XPathValueValidator.ts
import DOMPurify from 'dompurify'; // â† å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ç›´æ¥ä¾å­˜

export class XPathValueValidator {
  sanitize(value: string): string {
    return DOMPurify.sanitize(value); // â† å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨
  }
}
```

**å•é¡Œç‚¹**:
- Domainå±¤ãŒå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆDOMPurifyï¼‰ã«ä¾å­˜ã—ã¦ã„ã‚‹
- ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒã§ã—ã‹å‹•ä½œã—ãªã„ï¼ˆNode.jsç’°å¢ƒã§ãƒ†ã‚¹ãƒˆå›°é›£ï¼‰

**âœ… æ­£ã—ã„ã‚³ãƒ¼ãƒ‰**:
```typescript
// src/domain/interfaces/IHtmlSanitizer.ts
export interface IHtmlSanitizer {
  sanitize(html: string): string;
}

// src/domain/services/XPathValueValidator.ts
export class XPathValueValidator {
  constructor(private sanitizer: IHtmlSanitizer) {}

  private static DANGEROUS_PATTERNS = [
    /<script/i,
    /javascript:/i,
    /on\w+=/i,
    /<iframe/i,
  ];

  validate(value: string): ValidationResult {
    // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°æ¤œè¨¼ï¼ˆDomainå±¤ã§ã‚‚å®Ÿè¡Œå¯èƒ½ï¼‰
    const hasDangerousPattern = XPathValueValidator.DANGEROUS_PATTERNS.some(
      pattern => pattern.test(value)
    );

    if (hasDangerousPattern) {
      return {
        valid: false,
        message: 'XPathå€¤ã«å±é™ºãªãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã¾ã™',
      };
    }

    return { valid: true };
  }

  sanitize(value: string): string {
    // ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã¯Infrastructureå±¤ã«å§”è­²
    return this.sanitizer.sanitize(value);
  }
}

// src/infrastructure/security/DOMPurifySanitizer.ts
import DOMPurify from 'dompurify';
import { IHtmlSanitizer } from '@domain/interfaces';

export class DOMPurifySanitizer implements IHtmlSanitizer {
  sanitize(html: string): string {
    return DOMPurify.sanitize(html);
  }
}
```

---

### ğŸ“ æ­£ã—ã„ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆã®ã¾ã¨ã‚

#### Domainå±¤ã«é…ç½®ã™ã¹ãã‚‚ã®

âœ… **é…ç½®ã™ã¹ã**:
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆUser, Website, XPathç­‰ï¼‰
- å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼ˆEmail, Passwordç­‰ï¼‰
- ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ï¼‰
- ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©ï¼ˆWebsiteCreatedEventç­‰ï¼‰
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ï¼ˆIRepository, IEventPublisher, IPasswordStrengthCheckerç­‰ï¼‰
- ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆæ¤œè¨¼ãƒ«ãƒ¼ãƒ«ã€è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ç­‰ï¼‰

âŒ **é…ç½®ã™ã¹ãã§ãªã„**:
- å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¸ã®ä¾å­˜ï¼ˆzxcvbn, DOMPurify, Chart.jsç­‰ï¼‰
- ãƒ–ãƒ©ã‚¦ã‚¶APIã¸ã®ä¾å­˜ï¼ˆchrome.storage, performance, localStorageç­‰ï¼‰
- Infrastructureå±¤ã®å‹ï¼ˆChromeStorageData, ApiResponseç­‰ï¼‰
- ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯å›ºæœ‰ã®æ©Ÿèƒ½ï¼ˆReact Hooks, Decoratorç­‰ï¼‰

#### UseCaseå±¤ã«é…ç½®ã™ã¹ãã‚‚ã®

âœ… **é…ç½®ã™ã¹ã**:
- UseCaseã‚¯ãƒ©ã‚¹ï¼ˆExecuteAutoFillUseCaseç­‰ï¼‰
- UseCaseã®å…¥å‡ºåŠ›å‹ï¼ˆCreateUserInput, CreateUserOutputç­‰ï¼‰
- ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å›ºæœ‰ã®ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆè¤‡æ•°ã®Domainã‚µãƒ¼ãƒ“ã‚¹ã®èª¿æ•´ç­‰ï¼‰

âŒ **é…ç½®ã™ã¹ãã§ãªã„**:
- Infrastructureå±¤ã¸ã®ç›´æ¥ä¾å­˜ï¼ˆPerformanceMonitor, ChromeStorageAdapterç­‰ï¼‰
- UIå±¤ã¸ã®ä¾å­˜ï¼ˆView, Presenterç­‰ï¼‰
- å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¸ã®ç›´æ¥ä¾å­˜

#### Infrastructureå±¤ã«é…ç½®ã™ã¹ãã‚‚ã®

âœ… **é…ç½®ã™ã¹ã**:
- Repositoryå®Ÿè£…ï¼ˆChromeStorageRepository, IndexedDBRepositoryç­‰ï¼‰
- Adapterå®Ÿè£…ï¼ˆAutoFillAdapter, SyncAdapterç­‰ï¼‰
- å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ©ãƒƒãƒ‘ãƒ¼ï¼ˆZxcvbnPasswordStrengthChecker, DOMPurifySanitizerç­‰ï¼‰
- ãƒ–ãƒ©ã‚¦ã‚¶APIã®ãƒ©ãƒƒãƒ‘ãƒ¼ï¼ˆChromeTimeProvider, ChromeStorageAdapterç­‰ï¼‰

#### Presentationå±¤ã«é…ç½®ã™ã¹ãã‚‚ã®

âœ… **é…ç½®ã™ã¹ã**:
- Viewï¼ˆUIå®Ÿè£…ï¼‰
- Presenterï¼ˆUIãƒ­ã‚¸ãƒƒã‚¯ï¼‰
- Controllerï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å‡¦ç†ï¼‰

---

### âœ… å®Ÿè£…æ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

å„ã‚¿ã‚¹ã‚¯ã®å®Ÿè£…æ™‚ã«ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š

#### ä¾å­˜é–¢ä¿‚ãƒã‚§ãƒƒã‚¯

- [ ] **Domainå±¤ãŒå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ä¾å­˜ã—ã¦ã„ãªã„ã‹**
  - zxcvbn, DOMPurify, Chart.jsç­‰ã®å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã§ä½¿ç”¨
- [ ] **UseCaseå±¤ãŒInfrastructureå±¤ã«ä¾å­˜ã—ã¦ã„ãªã„ã‹**
  - PerformanceMonitor, ChromeStorageAdapterç­‰ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã§ä½¿ç”¨
- [ ] **Domainå±¤ãŒãƒ–ãƒ©ã‚¦ã‚¶APIã«ä¾å­˜ã—ã¦ã„ãªã„ã‹**
  - chrome.storage, performance, localStorageç­‰ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã§ä½¿ç”¨
- [ ] **å†…å´ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒå¤–å´ã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’çŸ¥ã‚‰ãªã„ã‹**
  - Domain â†’ UseCase, Domain â†’ Infrastructureç­‰ã®ä¾å­˜ã¯ç¦æ­¢

#### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­è¨ˆãƒã‚§ãƒƒã‚¯

- [ ] **Domainå±¤ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹**
  - IEventPublisher, IPerformanceMonitor, IPasswordStrengthCheckerç­‰
- [ ] **Infrastructureå±¤ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã‹**
  - EventBus implements IEventPublisherç­‰
- [ ] **UseCaseãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜ã—ã¦ã„ã‚‹ã‹**
  - ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã®å‹ãŒã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‹

#### ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ãƒã‚§ãƒƒã‚¯

- [ ] **ä¾å­˜æ€§ã‚’ãƒ¢ãƒƒã‚¯ã§å·®ã—æ›¿ãˆã‚‰ã‚Œã‚‹ã‹**
  - ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãŒä½¿ã‚ã‚Œã¦ã„ã‚‹ã‹
- [ ] **å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã—ã§Domainå±¤ã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‹**
  - Domainå±¤ã®ãƒ†ã‚¹ãƒˆã§zxcvbnç­‰ã®å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ã‹
- [ ] **ãƒ–ãƒ©ã‚¦ã‚¶ç’°å¢ƒãªã—ã§UseCaseã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‹**
  - chrome.storageç­‰ã®APIã‚’ç›´æ¥ä½¿ç”¨ã—ã¦ã„ãªã„ã‹

---

## ã‚¿ã‚¹ã‚¯1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆã®æ´»ç”¨æ‹¡å¤§

### ğŸ“ æ¦‚è¦

**ç›®çš„**: Task 7ã§æ§‹ç¯‰ã—ãŸãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆåŸºç›¤ã‚’ã€æ—¢å­˜ã®61å€‹ã®UseCaseã«æ®µéšçš„ã«çµ±åˆã—ã€æ¨ªæ–­çš„é–¢å¿ƒäº‹ï¼ˆãƒ­ã‚®ãƒ³ã‚°ã€é€šçŸ¥ã€ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ï¼‰ã®ç®¡ç†ã‚’æ”¹å–„ã™ã‚‹ã€‚

**æœŸé–“**: 1-2é€±é–“
**å„ªå…ˆåº¦**: ğŸŸ¢ Low
**è¤‡é›‘åº¦**: ä¸­ï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰å¤‰æ›´ãŒå¤šæ•°ï¼‰

---

### ğŸ¯ å¤–éƒ¨ä»•æ§˜

#### æ©Ÿèƒ½è¦ä»¶

**ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®æ©Ÿèƒ½è¿½åŠ ãƒ»å¤‰æ›´**:
- è‡ªå‹•å…¥åŠ›å®Ÿè¡Œæ™‚ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ é€šçŸ¥ãŒé€ä¿¡ã•ã‚Œã‚‹
- ãƒ‡ãƒ¼ã‚¿åŒæœŸå®Œäº†æ™‚ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹ï¼ˆå®Ÿè¡Œæ™‚é–“ã€æˆåŠŸ/å¤±æ•—ã‚«ã‚¦ãƒ³ãƒˆï¼‰ãŒåé›†ã•ã‚Œã‚‹
- Websiteã‚„ XPath ã® CRUD æ“ä½œæ™‚ã®ç›£æŸ»ãƒ­ã‚°ãŒè‡ªå‹•è¨˜éŒ²ã•ã‚Œã‚‹
- ç•°å¸¸ç³»ï¼ˆã‚¨ãƒ©ãƒ¼ç™ºç”Ÿï¼‰æ™‚ã«è©³ç´°ãªã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ãŒè¨˜éŒ²ã•ã‚Œã‚‹

**å¤–éƒ¨ã‹ã‚‰è¦³æ¸¬å¯èƒ½ãªå‹•ä½œ**:
- æ—¢å­˜æ©Ÿèƒ½ã®å‹•ä½œã¯å¤‰ã‚ã‚‰ãªã„ãŒã€ä»¥ä¸‹ã®ä»˜åŠ ä¾¡å€¤ãŒæä¾›ã•ã‚Œã‚‹ï¼š
  - Chrome DevTools Console ã«ã‚¤ãƒ™ãƒ³ãƒˆãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹
  - Chrome Storage ã«ã‚¤ãƒ™ãƒ³ãƒˆå±¥æ­´ãŒè“„ç©ã•ã‚Œã‚‹ï¼ˆå°†æ¥çš„ãªãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºç”¨ï¼‰
  - Background Service Worker ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒè³¼èª­ã•ã‚Œã€é€šçŸ¥ãŒé€ä¿¡ã•ã‚Œã‚‹

#### éæ©Ÿèƒ½è¦ä»¶

| é …ç›® | è¦ä»¶ | æ¸¬å®šæ–¹æ³• |
|------|------|----------|
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹** | ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã¯1msä»¥ä¸‹ | performance.now()ã§è¨ˆæ¸¬ |
| **ä¿¡é ¼æ€§** | ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œå¤±æ•—ãŒå…ƒã®å‡¦ç†ã«å½±éŸ¿ã—ãªã„ | try-catchã§éš”é›¢ |
| **ä¿å®ˆæ€§** | æ—¢å­˜UseCaseã®å¤‰æ›´ã¯æœ€å°é™ï¼ˆ5è¡Œä»¥å†…ã®è¿½åŠ ï¼‰ | ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£** | EventBusã‚’ãƒ¢ãƒƒã‚¯å¯èƒ½ | Unit testã§æ¤œè¨¼ |

---

### ğŸ”§ å†…éƒ¨ä»•æ§˜

#### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

**ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã®å½¹å‰²**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Presentation Layer (Background Service)     â”‚
â”‚ - GlobalEventBusåˆæœŸåŒ–                       â”‚
â”‚ - ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ç™»éŒ²                      â”‚
â”‚   â€¢ LoggingEventHandler (å…¨ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ­ã‚°)   â”‚
â”‚   â€¢ NotificationHandler (é€šçŸ¥é€ä¿¡)           â”‚
â”‚   â€¢ MetricsHandler (ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ publish/subscribe
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UseCase Layer                                â”‚
â”‚ - ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œãƒ­ã‚¸ãƒƒã‚¯è¿½åŠ                     â”‚
â”‚   â€¢ æˆåŠŸæ™‚: *CompletedEvent                  â”‚
â”‚   â€¢ å¤±æ•—æ™‚: *FailedEvent                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ import
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Domain Layer (events/)                       â”‚
â”‚ - EventBus: Pub/Subãƒ¡ã‚«ãƒ‹ã‚ºãƒ                 â”‚
â”‚ - ã‚¤ãƒ™ãƒ³ãƒˆå®šç¾©: 22ç¨®é¡                        â”‚
â”‚   â€¢ AutoFillEvents (5ç¨®é¡)                   â”‚
â”‚   â€¢ WebsiteEvents (5ç¨®é¡)                    â”‚
â”‚   â€¢ XPathEvents (5ç¨®é¡)                      â”‚
â”‚   â€¢ SyncEvents (7ç¨®é¡)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### çµ±åˆå¯¾è±¡UseCaseï¼ˆå„ªå…ˆåº¦é †ï¼‰

**Phase 1: é«˜é »åº¦å®Ÿè¡ŒUseCase (3-4æ—¥)**
1. âœ… ExecuteAutoFillUseCase - è‡ªå‹•å…¥åŠ›å®Ÿè¡Œï¼ˆæœ€é‡è¦ï¼‰
2. SaveWebsiteUseCase - Websiteã®ä¿å­˜
3. SaveXPathUseCase - XPathã®ä¿å­˜
4. SaveAutomationVariablesUseCase - å¤‰æ•°ã®ä¿å­˜

**Phase 2: ãƒ‡ãƒ¼ã‚¿åŒæœŸUseCase (2-3æ—¥)**
5. ExecuteManualSyncUseCase - æ‰‹å‹•åŒæœŸ
6. ExecuteScheduledSyncUseCase - ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«åŒæœŸ
7. ExecuteSendDataUseCase - ãƒ‡ãƒ¼ã‚¿é€ä¿¡
8. ExecuteReceiveDataUseCase - ãƒ‡ãƒ¼ã‚¿å—ä¿¡

**Phase 3: ãã®ä»–ã®é‡è¦UseCase (2-3æ—¥)**
9. DeleteWebsiteUseCase - Websiteå‰Šé™¤
10. UpdateWebsiteUseCase - Websiteæ›´æ–°
11. ImportWebsitesUseCase - Websiteã‚¤ãƒ³ãƒãƒ¼ãƒˆ
12. UnlockStorageUseCase - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ãƒ³ãƒ­ãƒƒã‚¯ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆï¼‰
13. LockStorageUseCase - ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãƒ­ãƒƒã‚¯ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ™ãƒ³ãƒˆï¼‰

**Phase 4: æ®‹ã‚Šã®UseCase (3-4æ—¥)**
14. ãã®ä»–48å€‹ã®UseCaseï¼ˆå¿…è¦ã«å¿œã˜ã¦å„ªå…ˆé †ä½ã‚’èª¿æ•´ï¼‰

#### å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³

**Before (ã‚¤ãƒ™ãƒ³ãƒˆãªã—)**:
```typescript
// src/usecases/websites/SaveWebsiteUseCase.ts
export class SaveWebsiteUseCase {
  async execute(input: SaveWebsiteInput): Promise<SaveWebsiteOutput> {
    const website = Website.create(input);
    await this.repository.save(website);
    return { success: true, website };
  }
}
```

**After (ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆ)**:
```typescript
import { EventBus } from '@domain/events';
import { WebsiteCreatedEvent, WebsiteSaveFailedEvent } from '@domain/events/events/WebsiteEvents';

export class SaveWebsiteUseCase {
  constructor(
    private repository: WebsiteRepository,
    private eventBus?: EventBus // Optionalä¾å­˜ï¼ˆå¾Œæ–¹äº’æ›æ€§ï¼‰
  ) {}

  async execute(input: SaveWebsiteInput): Promise<SaveWebsiteOutput> {
    try {
      const website = Website.create(input);
      await this.repository.save(website);

      // âœ… ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œï¼ˆæˆåŠŸæ™‚ï¼‰
      this.eventBus?.publish(new WebsiteCreatedEvent({
        websiteId: website.getId(),
        websiteName: website.getName(),
        timestamp: Date.now(),
      }));

      return { success: true, website };
    } catch (error) {
      // âœ… ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œï¼ˆå¤±æ•—æ™‚ï¼‰
      this.eventBus?.publish(new WebsiteSaveFailedEvent({
        input,
        error: error instanceof Error ? error : new Error(String(error)),
        timestamp: Date.now(),
      }));

      throw error;
    }
  }
}
```

#### ã‚°ãƒ­ãƒ¼ãƒãƒ«EventBusåˆæœŸåŒ–

**src/presentation/background/index.ts**:
```typescript
import { EventBus } from '@domain/events';
import { LoggingEventHandler } from '@domain/events/examples/LoggingEventHandler';
import { AutoFillNotificationHandler } from '@domain/events/examples/AutoFillNotificationHandler';
import { SyncMetricsHandler } from '@domain/events/examples/SyncMetricsHandler';

// ã‚°ãƒ­ãƒ¼ãƒãƒ«EventBusã®ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³
export const globalEventBus = new EventBus();

// ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ç™»éŒ²
globalEventBus.subscribeGlobal(new LoggingEventHandler(logger));
globalEventBus.subscribe('AutoFillCompletedEvent', new AutoFillNotificationHandler(notificationAdapter));
globalEventBus.subscribe('SyncCompletedEvent', new SyncMetricsHandler(metricsRepository));

// UseCaseã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–æ™‚ã«EventBusã‚’æ³¨å…¥
const saveWebsiteUseCase = new SaveWebsiteUseCase(websiteRepository, globalEventBus);
```

#### ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

**Unit Test (UseCaseå˜ä½)**:
```typescript
describe('SaveWebsiteUseCase with EventBus', () => {
  let useCase: SaveWebsiteUseCase;
  let mockRepository: jest.Mocked<WebsiteRepository>;
  let mockEventBus: jest.Mocked<EventBus>;

  beforeEach(() => {
    mockRepository = { save: jest.fn() };
    mockEventBus = { publish: jest.fn() };
    useCase = new SaveWebsiteUseCase(mockRepository, mockEventBus);
  });

  it('should publish WebsiteCreatedEvent on success', async () => {
    mockRepository.save.mockResolvedValue(undefined);

    await useCase.execute({ name: 'Test' });

    expect(mockEventBus.publish).toHaveBeenCalledWith(
      expect.objectContaining({
        eventName: 'WebsiteCreatedEvent',
      })
    );
  });

  it('should publish WebsiteSaveFailedEvent on error', async () => {
    mockRepository.save.mockRejectedValue(new Error('Save failed'));

    await expect(useCase.execute({ name: 'Test' })).rejects.toThrow();

    expect(mockEventBus.publish).toHaveBeenCalledWith(
      expect.objectContaining({
        eventName: 'WebsiteSaveFailedEvent',
      })
    );
  });
});
```

---

### âœ… å®Œäº†åŸºæº–

#### å®šé‡çš„åŸºæº–

- [x] **çµ±åˆç‡**: 14å€‹ã®UseCaseã«ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆå®Œäº†ï¼ˆç›®æ¨™: 20å€‹ï¼‰
- [x] **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: æ–°è¦ãƒ†ã‚¹ãƒˆ52è¿½åŠ ã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰100%ç¶­æŒ
- [x] **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ < 1msï¼ˆå®Ÿæ¸¬: 0.2msï¼‰
- [x] **Lint**: 0 errors, 0 warnings

#### å®šæ€§çš„åŸºæº–

- [x] **å¾Œæ–¹äº’æ›æ€§**: EventBusãªã—ã§ã‚‚å‹•ä½œã™ã‚‹ï¼ˆOptionalä¾å­˜ï¼‰
- [x] **æŠ€è¡“çš„å•é¡Œè§£æ±º**: EventBusæ§‹é€ ä¸æ•´åˆã®å®Œå…¨ä¿®æ­£
- [x] **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼**: ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é•åãªã—

---

### ğŸ“‹ ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ

#### âœ… Phase 1: æº–å‚™ï¼ˆ1æ—¥ï¼‰ - å®Œäº†
- [x] ã‚°ãƒ­ãƒ¼ãƒãƒ«EventBusã‚’background/index.tsã§åˆæœŸåŒ–
- [x] LoggingEventHandlerã‚’ç™»éŒ²ï¼ˆå…¨ã‚¤ãƒ™ãƒ³ãƒˆã‚’Consoleãƒ­ã‚°å‡ºåŠ›ï¼‰
- [x] EventBusçµ±åˆã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚³ãƒ¼ãƒ‰ä½œæˆï¼ˆã‚³ãƒ”ãƒšç”¨ï¼‰

#### âœ… Phase 2: é«˜é »åº¦UseCaseã¸ã®çµ±åˆï¼ˆ3-4æ—¥ï¼‰ - å®Œäº†
- [x] ExecuteAutoFillUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
  - [x] AutoFillStartedEventç™ºè¡Œ
  - [x] AutoFillCompletedEventç™ºè¡Œ
  - [x] AutoFillFailedEventç™ºè¡Œ
  - [x] 10ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ 
- [x] SaveWebsiteUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] SaveXPathUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] SaveAutomationVariablesUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

#### âœ… Phase 3: ãƒ‡ãƒ¼ã‚¿åŒæœŸUseCaseã¸ã®çµ±åˆï¼ˆ2-3æ—¥ï¼‰ - å®Œäº†
- [x] ExecuteManualSyncUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ4ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] ExecuteScheduledSyncUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] ExecuteSendDataUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] ExecuteReceiveDataUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

#### âœ… Phase 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£UseCaseã¸ã®çµ±åˆï¼ˆ1-2æ—¥ï¼‰ - å®Œäº†
- [x] UnlockStorageUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] LockStorageUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [x] MigrateToSecureStorageUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆï¼ˆ3ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

#### âœ… Phase 5: ãã®ä»–UseCaseã¸ã®çµ±åˆï¼ˆ2-3æ—¥ï¼‰ - å®Œäº†
- [x] DeleteWebsiteUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
- [x] UpdateWebsiteUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
- [x] ImportWebsitesUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
- [x] ImportAutomationVariablesUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
- [x] 14å€‹ã®UseCaseã¸ã®çµ±åˆå®Œäº†

#### âœ… Phase 6: QA ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1-2æ—¥ï¼‰ - å®Œäº†
- [x] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ5,473ãƒ†ã‚¹ãƒˆãŒåˆæ ¼ï¼‰
- [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ < 1msï¼‰
- [x] æŠ€è¡“çš„å•é¡Œã®å®Œå…¨è§£æ±ºï¼ˆEventBusæ§‹é€ ä¸æ•´åˆä¿®æ­£ï¼‰
- [x] Lint/Buildç¢ºèªï¼ˆ0ã‚¨ãƒ©ãƒ¼ã€0è­¦å‘Šï¼‰

---

## ã‚¿ã‚¹ã‚¯2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®å°å…¥

### ğŸ“ æ¦‚è¦

**ç›®çš„**: Chrome Performance APIã‚’æ´»ç”¨ã—ã€è‡ªå‹•å…¥åŠ›å®Ÿè¡Œã‚„ãƒ‡ãƒ¼ã‚¿åŒæœŸãªã©ã®ä¸»è¦æ©Ÿèƒ½ã®å®Ÿè¡Œæ™‚é–“ã‚’è¨ˆæ¸¬ãƒ»å¯è¦–åŒ–ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã™ã‚‹ã€‚

**æœŸé–“**: 1-2é€±é–“
**å„ªå…ˆåº¦**: ğŸŸ¢ Low
**è¤‡é›‘åº¦**: ä¸­ï¼ˆæ–°è¦ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰ï¼‰

---

### ğŸ¯ å¤–éƒ¨ä»•æ§˜

#### æ©Ÿèƒ½è¦ä»¶

**ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®æ©Ÿèƒ½è¿½åŠ **:
- ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—UIã«ã€Œãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€ã‚¿ãƒ–ãŒè¿½åŠ ã•ã‚Œã‚‹
- ä¸»è¦æ©Ÿèƒ½ã®å®Ÿè¡Œæ™‚é–“çµ±è¨ˆãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆå¹³å‡ã€æœ€å°ã€æœ€å¤§ã€P95ã€P99ï¼‰
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚°ãƒ©ãƒ•ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆæ™‚ç³»åˆ—ã€ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ï¼‰
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’CSV/JSONã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå¯èƒ½
- å®Ÿè¡Œæ™‚ã«è‡ªå‹•çš„ã«ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ãŒè¨˜éŒ²ã•ã‚Œã‚‹ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸è¦ï¼‰

**ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤ºé …ç›®**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è‡ªå‹•å…¥åŠ›å®Ÿè¡Œ                                 â”‚
â”‚ â”œ å¹³å‡å®Ÿè¡Œæ™‚é–“: 1,234 ms                     â”‚
â”‚ â”œ æœ€å°: 890 ms                              â”‚
â”‚ â”œ æœ€å¤§: 2,100 ms                            â”‚
â”‚ â”œ P95: 1,800 ms                             â”‚
â”‚ â”” å®Ÿè¡Œå›æ•°: 156å›ï¼ˆéå»7æ—¥é–“ï¼‰               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ãƒ‡ãƒ¼ã‚¿åŒæœŸ                                   â”‚
â”‚ â”œ å¹³å‡å®Ÿè¡Œæ™‚é–“: 3,456 ms                     â”‚
â”‚ â”œ æˆåŠŸç‡: 98.5%                             â”‚
â”‚ â”” å®Ÿè¡Œå›æ•°: 42å›ï¼ˆéå»7æ—¥é–“ï¼‰                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ã‚°ãƒ©ãƒ•è¡¨ç¤º] [CSVå‡ºåŠ›] [ãƒªã‚»ãƒƒãƒˆ]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### éæ©Ÿèƒ½è¦ä»¶

| é …ç›® | è¦ä»¶ | æ¸¬å®šæ–¹æ³• |
|------|------|----------|
| **è¨ˆæ¸¬ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰** | < 0.5ms per operation | performance.now()ã§è¨ˆæ¸¬ |
| **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µã‚¤ã‚º** | < 1MB (éå»7æ—¥é–“ã®ãƒ‡ãƒ¼ã‚¿) | Chrome Storageä½¿ç”¨é‡ç¢ºèª |
| **ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“** | 7æ—¥é–“ï¼ˆè¨­å®šå¯èƒ½ï¼‰ | SystemSettingsæ‹¡å¼µ |
| **è¨ˆæ¸¬ç²¾åº¦** | Â±1msä»¥å†… | performance.now()ã®ç²¾åº¦ |
| **UIè¡¨ç¤ºé€Ÿåº¦** | < 500ms | ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“è¨ˆæ¸¬ |

---

### ğŸ”§ å†…éƒ¨ä»•æ§˜

#### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

**ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã®è²¬å‹™**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Presentation Layer                           â”‚
â”‚ - PerformanceDashboardView.ts (UI)           â”‚
â”‚ - PerformanceDashboardPresenter.ts (ãƒ­ã‚¸ãƒƒã‚¯)â”‚
â”‚ - Chart.jsçµ±åˆ (ã‚°ãƒ©ãƒ•è¡¨ç¤º)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UseCase Layer                                â”‚
â”‚ - GetPerformanceMetricsUseCase               â”‚
â”‚ - ExportPerformanceDataUseCase               â”‚
â”‚ - ClearPerformanceDataUseCase                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Domain Layer                                 â”‚
â”‚ - PerformanceMetric Entity                   â”‚
â”‚   â€¢ operationName: string                    â”‚
â”‚   â€¢ startTime: number                        â”‚
â”‚   â€¢ endTime: number                          â”‚
â”‚   â€¢ duration: number                         â”‚
â”‚   â€¢ success: boolean                         â”‚
â”‚   â€¢ metadata: Record<string, unknown>        â”‚
â”‚ - PerformanceRepository Port                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Infrastructure Layer                         â”‚
â”‚ - ChromeStoragePerformanceRepository         â”‚
â”‚   â€¢ save(): FIFO rotation (æœ€å¤§1000ã‚¨ãƒ³ãƒˆãƒª) â”‚
â”‚   â€¢ load(): æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°               â”‚
â”‚   â€¢ aggregate(): çµ±è¨ˆè¨ˆç®—                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Performanceè¨ˆæ¸¬ã®çµ±åˆæ–¹æ³•

**âš ï¸ é‡è¦: ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–æ‹ ã®ãŸã‚ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨**

**ãƒ‘ã‚¿ãƒ¼ãƒ³1: UseCaseå†…ã§è¨ˆæ¸¬ï¼ˆæ¨å¥¨ï¼‰**
```typescript
// src/domain/interfaces/IPerformanceMonitor.ts
export interface IPerformanceMonitor {
  start(operationName: string): string;
  end(monitorId: string, metadata?: Record<string, unknown>): void;
}

// src/usecases/auto-fill/ExecuteAutoFillUseCase.ts
import { IPerformanceMonitor } from '@domain/interfaces';

export class ExecuteAutoFillUseCase {
  constructor(
    private adapter: AutoFillAdapter,
    private performanceMonitor?: IPerformanceMonitor // â† ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜
  ) {}

  async execute(input: ExecuteAutoFillInput): Promise<ExecuteAutoFillOutput> {
    const monitorId = this.performanceMonitor?.start('auto-fill-execution');

    try {
      const result = await this.adapter.executeAutoFill(input.steps);

      this.performanceMonitor?.end(monitorId, {
        success: true,
        stepsCount: input.steps.length,
      });

      return { success: true, result };
    } catch (error) {
      this.performanceMonitor?.end(monitorId, {
        success: false,
        error: error.message,
      });
      throw error;
    }
  }
}

// src/infrastructure/monitoring/PerformanceMonitor.ts
import { IPerformanceMonitor } from '@domain/interfaces';

export class PerformanceMonitor implements IPerformanceMonitor {
  constructor(
    private repository: PerformanceMetricRepository
  ) {}

  start(operationName: string): string {
    const monitorId = crypto.randomUUID();
    performance.mark(`${operationName}-start-${monitorId}`);
    return monitorId;
  }

  end(monitorId: string, metadata?: Record<string, unknown>): void {
    const [operationName] = monitorId.split('-');
    performance.mark(`${operationName}-end-${monitorId}`);
    performance.measure(
      `${operationName}-${monitorId}`,
      `${operationName}-start-${monitorId}`,
      `${operationName}-end-${monitorId}`
    );

    const measure = performance.getEntriesByName(`${operationName}-${monitorId}`)[0];
    const metric = PerformanceMetric.create({
      operationName,
      startTime: measure.startTime,
      endTime: measure.startTime + measure.duration,
      success: metadata?.success ?? true,
      metadata,
    });

    this.repository.save(metric);
  }
}
```

**ãƒ‘ã‚¿ãƒ¼ãƒ³2: Decorator Patternï¼ˆé«˜åº¦ãªä½¿ã„æ–¹ï¼‰**
```typescript
// src/infrastructure/monitoring/PerformanceMonitoringDecorator.ts
import { IPerformanceMonitor } from '@domain/interfaces';

export function withPerformanceMonitoring(
  operationName: string,
  monitor: IPerformanceMonitor // â† ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜
) {
  return function (
    target: any,
    propertyKey: string,
    descriptor: PropertyDescriptor
  ) {
    const originalMethod = descriptor.value;

    descriptor.value = async function (...args: any[]) {
      const monitorId = monitor.start(operationName);

      try {
        const result = await originalMethod.apply(this, args);
        monitor.end(monitorId, { success: true });
        return result;
      } catch (error) {
        monitor.end(monitorId, { success: false, error: error.message });
        throw error;
      }
    };

    return descriptor;
  };
}

// ä½¿ç”¨ä¾‹ï¼ˆPresentationå±¤ã§ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å–å¾—ï¼‰
// src/presentation/background/index.ts
import { PerformanceMonitor } from '@infrastructure/monitoring/PerformanceMonitor';

const globalPerformanceMonitor = new PerformanceMonitor(performanceRepository);

// UseCaseä½œæˆæ™‚ã«Decoratorã‚’é©ç”¨
export class ExecuteAutoFillUseCase {
  @withPerformanceMonitoring('auto-fill-execution', globalPerformanceMonitor)
  async execute(input: ExecuteAutoFillInput): Promise<ExecuteAutoFillOutput> {
    // å®Ÿè£…ã‚³ãƒ¼ãƒ‰ï¼ˆè¨ˆæ¸¬ãƒ­ã‚¸ãƒƒã‚¯ä¸è¦ï¼‰
  }
}
```

**âš ï¸ æ³¨æ„**: Decorator Patternã¯é«˜åº¦ãªæ©Ÿèƒ½ã®ãŸã‚ã€ãƒ‘ã‚¿ãƒ¼ãƒ³1ï¼ˆã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ï¼‰ã‚’å„ªå…ˆçš„ã«ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚Decoratorã¯ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªä¾å­˜æ€§ã‚’æŒã¤ãŸã‚ã€ãƒ†ã‚¹ãƒˆãŒè¤‡é›‘ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

#### PerformanceMetric Entity

**âœ… ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–æ‹ **: Domainå±¤ã¯ãƒ–ãƒ©ã‚¦ã‚¶APIã«ä¾å­˜ã—ãªã„

```typescript
// src/domain/entities/PerformanceMetric.ts
export interface PerformanceMetricData {
  id: string;
  operationName: string;
  startTime: number;
  endTime: number;
  duration: number;
  success: boolean;
  metadata?: Record<string, unknown>;
}

export class PerformanceMetric {
  private constructor(private data: PerformanceMetricData) {}

  /**
   * PerformanceMetricã‚’ä½œæˆ
   * @param data - è¨ˆæ¸¬ãƒ‡ãƒ¼ã‚¿ï¼ˆid, durationã¯è‡ªå‹•ç”Ÿæˆï¼‰
   * @returns PerformanceMetricã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
   */
  static create(data: Omit<PerformanceMetricData, 'id' | 'duration'>): PerformanceMetric {
    // âœ… UUIDã®ç”Ÿæˆã¯Domainå±¤ã§è¡Œã†ï¼ˆcrypto.randomUUID()ã¯ãƒ–ãƒ©ã‚¦ã‚¶APIã ãŒã€æ¨™æº–ä»•æ§˜ã®ãŸã‚è¨±å®¹ï¼‰
    // ã¾ãŸã¯ã€IUuidGeneratorã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¦ä¾å­˜æ€§æ³¨å…¥ã‚‚å¯èƒ½
    return new PerformanceMetric({
      ...data,
      id: crypto.randomUUID(),
      duration: data.endTime - data.startTime,
    });
  }

  getDuration(): number {
    return this.data.duration;
  }

  isSuccess(): boolean {
    return this.data.success;
  }

  toData(): PerformanceMetricData {
    return { ...this.data };
  }
}
```

**ä»£æ›¿æ¡ˆ: ã•ã‚‰ã«å³å¯†ã«ã—ãŸã„å ´åˆï¼ˆUUIDç”Ÿæˆã‚‚ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åŒ–ï¼‰**

```typescript
// src/domain/interfaces/IUuidGenerator.ts
export interface IUuidGenerator {
  generate(): string;
}

// src/domain/entities/PerformanceMetric.ts
export class PerformanceMetric {
  private constructor(private data: PerformanceMetricData) {}

  static create(
    data: Omit<PerformanceMetricData, 'id' | 'duration'>,
    uuidGenerator: IUuidGenerator
  ): PerformanceMetric {
    return new PerformanceMetric({
      ...data,
      id: uuidGenerator.generate(), // â† ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±
      duration: data.endTime - data.startTime,
    });
  }
}

// src/infrastructure/adapters/CryptoUuidGenerator.ts
export class CryptoUuidGenerator implements IUuidGenerator {
  generate(): string {
    return crypto.randomUUID();
  }
}
```

#### çµ±è¨ˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯

```typescript
// src/domain/services/PerformanceAnalyzer.ts
export class PerformanceAnalyzer {
  static calculateStatistics(metrics: PerformanceMetric[]): PerformanceStatistics {
    const durations = metrics.map(m => m.getDuration()).sort((a, b) => a - b);

    return {
      count: durations.length,
      avg: this.average(durations),
      min: Math.min(...durations),
      max: Math.max(...durations),
      p50: this.percentile(durations, 0.50),
      p95: this.percentile(durations, 0.95),
      p99: this.percentile(durations, 0.99),
      successRate: metrics.filter(m => m.isSuccess()).length / metrics.length,
    };
  }

  private static percentile(sortedData: number[], percentile: number): number {
    const index = Math.ceil(sortedData.length * percentile) - 1;
    return sortedData[index];
  }

  private static average(data: number[]): number {
    return data.reduce((a, b) => a + b, 0) / data.length;
  }
}
```

---

### âœ… å®Œäº†åŸºæº–

#### å®šé‡çš„åŸºæº–

- [ ] **è¨ˆæ¸¬å¯¾è±¡**: æœ€ä½10ç¨®é¡ã®ä¸»è¦æ“ä½œã‚’è¨ˆæ¸¬
  - AutoFillå®Ÿè¡Œã€ãƒ‡ãƒ¼ã‚¿åŒæœŸã€Website/XPath CRUDã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ“ä½œç­‰
- [ ] **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸**: æ–°è¦ã‚³ãƒ¼ãƒ‰95%ä»¥ä¸Š
- [ ] **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰**: < 0.5ms per operation
- [ ] **UIè¡¨ç¤ºé€Ÿåº¦**: < 500ms
- [ ] **Lint**: 0 errors, 0 warnings

**ãƒã‚§ãƒƒã‚¯é …ç›®**:
- [ ] PerformanceMetric Entity ã®æ­£å¸¸å‹•ä½œ
- [ ] Chrome Performance API ã®é©åˆ‡ãªä½¿ç”¨
- [ ] ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰UIã®è¡¨ç¤ºå“è³ª
- [ ] CSV/JSONã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½

**ãƒã‚§ãƒƒã‚¯å¯¾è±¡ç®‡æ‰€**:
- [ ] `src/domain/entities/PerformanceMetric.ts`
- [ ] `src/infrastructure/performance/` é…ä¸‹ã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«
- [ ] `src/presentation/performance-dashboard/` é…ä¸‹ã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«
- [ ] ä¸»è¦UseCaseã®Decoratorçµ±åˆ

**æ¤œè¨¼é …ç›®**:
- [ ] è¨ˆæ¸¬ç²¾åº¦ã®æ¤œè¨¼ï¼ˆÂ±5%ä»¥å†…ï¼‰
- [ ] ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã®ç¢ºèª
- [ ] UIå¿œç­”æ€§ã®ç¢ºèª
- [ ] ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ã®ç¢ºèª

#### å®šæ€§çš„åŸºæº–

- [ ] **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰UI**: ç›´æ„Ÿçš„ã§èª­ã¿ã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³
- [ ] **ãƒ‡ãƒ¼ã‚¿ä¿æŒ**: 7æ—¥é–“ã®å±¥æ­´ãŒè‡ªå‹•çš„ã«ä¿æŒã•ã‚Œã‚‹
- [ ] **ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ**: CSV/JSONå½¢å¼ã§å‡ºåŠ›å¯èƒ½
- [ ] **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ä½œæˆï¼ˆ`docs/performance-monitoring-guide.md`ï¼‰

---

### ğŸ“‹ ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ

#### Phase 1: Domainå±¤ã®å®Ÿè£…ï¼ˆ2-3æ—¥ï¼‰
- [ ] PerformanceMetric Entityä½œæˆï¼ˆ100è¡Œã€20ãƒ†ã‚¹ãƒˆï¼‰
- [ ] PerformanceAnalyzer Serviceä½œæˆï¼ˆçµ±è¨ˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã€80è¡Œã€15ãƒ†ã‚¹ãƒˆï¼‰
- [ ] PerformanceRepository Portä½œæˆï¼ˆ30è¡Œï¼‰

#### Phase 2: Infrastructureå±¤ã®å®Ÿè£…ï¼ˆ2-3æ—¥ï¼‰
- [ ] PerformanceMonitorå®Ÿè£…ï¼ˆè¨ˆæ¸¬ãƒ­ã‚¸ãƒƒã‚¯ã€120è¡Œã€25ãƒ†ã‚¹ãƒˆï¼‰
- [ ] ChromeStoragePerformanceRepositoryå®Ÿè£…ï¼ˆFIFOã€150è¡Œã€30ãƒ†ã‚¹ãƒˆï¼‰
- [ ] PerformanceMonitoringDecoratorå®Ÿè£…ï¼ˆDecorator Patternã€80è¡Œã€10ãƒ†ã‚¹ãƒˆï¼‰

#### Phase 3: UseCaseå±¤ã®å®Ÿè£…ï¼ˆ1-2æ—¥ï¼‰
- [ ] GetPerformanceMetricsUseCaseä½œæˆï¼ˆçµ±è¨ˆå–å¾—ã€60è¡Œã€10ãƒ†ã‚¹ãƒˆï¼‰
- [ ] ExportPerformanceDataUseCaseä½œæˆï¼ˆCSV/JSONå‡ºåŠ›ã€70è¡Œã€12ãƒ†ã‚¹ãƒˆï¼‰
- [ ] ClearPerformanceDataUseCaseä½œæˆï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªã‚¢ã€40è¡Œã€5ãƒ†ã‚¹ãƒˆï¼‰

#### Phase 4: ä¸»è¦UseCaseã¸ã®è¨ˆæ¸¬çµ±åˆï¼ˆ2-3æ—¥ï¼‰
- [ ] ExecuteAutoFillUseCaseã¸ã®çµ±åˆ
- [ ] ExecuteManualSyncUseCaseã¸ã®çµ±åˆ
- [ ] SaveWebsiteUseCaseã¸ã®çµ±åˆ
- [ ] SaveXPathUseCaseã¸ã®çµ±åˆ
- [ ] ãã®ä»–6-8å€‹ã®ä¸»è¦UseCaseã¸ã®çµ±åˆ

#### Phase 5: Presentationå±¤ã®å®Ÿè£…ï¼ˆ3-4æ—¥ï¼‰
- [ ] PerformanceDashboardViewä½œæˆï¼ˆHTML/CSSã€200è¡Œï¼‰
- [ ] PerformanceDashboardPresenterä½œæˆï¼ˆãƒ­ã‚¸ãƒƒã‚¯ã€180è¡Œã€20ãƒ†ã‚¹ãƒˆï¼‰
- [ ] Chart.jsçµ±åˆï¼ˆã‚°ãƒ©ãƒ•è¡¨ç¤ºã€100è¡Œã€10ãƒ†ã‚¹ãƒˆï¼‰
- [ ] CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½å®Ÿè£…ï¼ˆ50è¡Œã€5ãƒ†ã‚¹ãƒˆï¼‰

#### Phase 6: QA ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1-2æ—¥ï¼‰
- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ120æ–°è¦ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰è¨ˆæ¸¬ï¼ˆ< 0.5msç¢ºèªï¼‰
- [ ] UI/UXãƒ†ã‚¹ãƒˆï¼ˆChromeæ‹¡å¼µã§å‹•ä½œç¢ºèªï¼‰
- [ ] åˆ©ç”¨ã‚¬ã‚¤ãƒ‰ä½œæˆï¼ˆ`docs/performance-monitoring-guide.md`ï¼‰
- [ ] Lint/Buildç¢ºèª

---

## ã‚¿ã‚¹ã‚¯3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã®èª¿æŸ»ãƒ»å®Ÿæ–½

### ğŸ“ æ¦‚è¦

**ç›®çš„**: è‡ªå‹•å…¥åŠ›å®Ÿè¡Œã€ãƒ‡ãƒ¼ã‚¿åŒæœŸã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹ç­‰ã®ä¸»è¦æ©Ÿèƒ½ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã‚’ç‰¹å®šã—ã€æœ€é©åŒ–ã‚’å®Ÿæ–½ã™ã‚‹ã€‚

**æœŸé–“**: 2-3æ—¥
**å„ªå…ˆåº¦**: ğŸŸ¢ Low
**è¤‡é›‘åº¦**: ä½ã€œä¸­ï¼ˆèª¿æŸ»ãƒ¡ã‚¤ãƒ³ï¼‰

---

### ğŸ¯ å¤–éƒ¨ä»•æ§˜

#### æ©Ÿèƒ½è¦ä»¶

**ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®æ”¹å–„**:
- è‡ªå‹•å…¥åŠ›å®Ÿè¡ŒãŒé«˜é€ŸåŒ–ã•ã‚Œã‚‹ï¼ˆç›®æ¨™: å¹³å‡20%æ”¹å–„ï¼‰
- å¤§é‡ãƒ‡ãƒ¼ã‚¿åŒæœŸï¼ˆ1,000ä»¶ä»¥ä¸Šï¼‰ãŒã‚¹ãƒ ãƒ¼ã‚ºã«ãªã‚‹
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚¢ã‚¯ã‚»ã‚¹ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãŒæ¸›å°‘ã™ã‚‹
- UIæ“ä½œã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒå‘ä¸Šã™ã‚‹

#### éæ©Ÿèƒ½è¦ä»¶

| é …ç›® | ç¾çŠ¶ï¼ˆæ¨å®šï¼‰ | ç›®æ¨™ | æ¸¬å®šæ–¹æ³• |
|------|------------|------|----------|
| **AutoFillå®Ÿè¡Œæ™‚é–“** | å¹³å‡1,500ms | å¹³å‡1,200ms (-20%) | performance.now() |
| **ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚é–“** | å¹³å‡4,000ms | å¹³å‡3,200ms (-20%) | performance.now() |
| **Storageèª­ã¿è¾¼ã¿** | å¹³å‡100ms | å¹³å‡50ms (-50%) | chrome.storage APIè¨ˆæ¸¬ |
| **UIæç”»æ™‚é–“** | å¹³å‡300ms | å¹³å‡200ms (-33%) | requestAnimationFrame |

---

### ğŸ”§ å†…éƒ¨ä»•æ§˜

#### èª¿æŸ»é …ç›®ã¨æœ€é©åŒ–æ‰‹æ³•

**1. è‡ªå‹•å…¥åŠ›å®Ÿè¡Œé€Ÿåº¦ã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°**

**èª¿æŸ»æ–¹æ³•**:
- Chrome DevTools Performance ã‚¿ãƒ–ã§éŒ²ç”»
- ExecuteAutoFillUseCaseã®å„ã‚¹ãƒ†ãƒƒãƒ—å®Ÿè¡Œæ™‚é–“ã‚’è¨ˆæ¸¬
- ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã®ç‰¹å®šï¼ˆDOMæ¤œç´¢ã€å¾…æ©Ÿæ™‚é–“ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³å®Ÿè¡Œï¼‰

**æœ€é©åŒ–æ‰‹æ³•**:
```typescript
// Before: æ¯å›DOMæ¤œç´¢ã‚’å®Ÿè¡Œ
for (const step of steps) {
  const element = await this.findElement(step.xpath); // é…ã„
  await this.performAction(element, step);
}

// After: è¦ç´ ã‚’äº‹å‰ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥
const elements = await this.findAllElements(steps.map(s => s.xpath)); // ä¸¦åˆ—
for (let i = 0; i < steps.length; i++) {
  await this.performAction(elements[i], steps[i]);
}
```

**æœŸå¾…åŠ¹æœ**: 10-20%ã®é«˜é€ŸåŒ–

---

**2. Chrome Storageã‚¢ã‚¯ã‚»ã‚¹ã®æœ€é©åŒ–ï¼ˆãƒãƒƒãƒå‡¦ç†ï¼‰**

**èª¿æŸ»æ–¹æ³•**:
- chrome.storage.local.get() ã®å‘¼ã³å‡ºã—å›æ•°ã‚’è¨ˆæ¸¬
- è¤‡æ•°å›ã®èª­ã¿è¾¼ã¿ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ç®‡æ‰€ã‚’ç‰¹å®š

**æœ€é©åŒ–æ‰‹æ³•**:
```typescript
// Before: å€‹åˆ¥ã«èª­ã¿è¾¼ã¿ï¼ˆNå›ã®APIå‘¼ã³å‡ºã—ï¼‰
const website = await chromeStorage.get('website_123');
const xpaths = await chromeStorage.get('xpaths_123');
const variables = await chromeStorage.get('variables_123');

// After: ãƒãƒƒãƒèª­ã¿è¾¼ã¿ï¼ˆ1å›ã®APIå‘¼ã³å‡ºã—ï¼‰
const data = await chromeStorage.get(['website_123', 'xpaths_123', 'variables_123']);
const { website_123, xpaths_123, variables_123 } = data;
```

**æœŸå¾…åŠ¹æœ**: Storageèª­ã¿è¾¼ã¿æ™‚é–“50%å‰Šæ¸›

---

**3. å¤§é‡ãƒ‡ãƒ¼ã‚¿åŒæœŸã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–**

**èª¿æŸ»æ–¹æ³•**:
- 1,000ä»¶ã€5,000ä»¶ã€10,000ä»¶ã®ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚é–“ã‚’è¨ˆæ¸¬
- ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã€CPUä½¿ç”¨ç‡ã‚’ç›£è¦–

**æœ€é©åŒ–æ‰‹æ³•**:
```typescript
// Before: å…¨ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€åº¦ã«å‡¦ç†ï¼ˆãƒ¡ãƒ¢ãƒªè² è·å¤§ï¼‰
const allWebsites = await this.repository.loadAll(); // 10,000ä»¶
await this.syncAdapter.send(allWebsites);

// After: ãƒãƒ£ãƒ³ã‚¯å‡¦ç†ï¼ˆBatch size: 100ä»¶ï¼‰
const chunkSize = 100;
for (let i = 0; i < totalCount; i += chunkSize) {
  const chunk = await this.repository.loadRange(i, chunkSize);
  await this.syncAdapter.send(chunk);
  await this.delay(100); // Rate limiting
}
```

**æœŸå¾…åŠ¹æœ**: ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡80%å‰Šæ¸›ã€å¤§é‡ãƒ‡ãƒ¼ã‚¿å¯¾å¿œ

---

**4. IndexedDBèª­ã¿æ›¸ãé€Ÿåº¦ã®æœ€é©åŒ–**

**èª¿æŸ»æ–¹æ³•**:
- IndexedDBæ“ä½œã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ™‚é–“ã‚’è¨ˆæ¸¬
- éŒ²ç”»ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿æ›¸ãé »åº¦ã‚’åˆ†æ

**æœ€é©åŒ–æ‰‹æ³•**:
```typescript
// Before: å€‹åˆ¥ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆé…ã„ï¼‰
for (const recording of recordings) {
  await db.put('recordings', recording); // Nå›ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³
}

// After: ä¸€æ‹¬ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆé«˜é€Ÿï¼‰
const transaction = db.transaction('recordings', 'readwrite');
const store = transaction.objectStore('recordings');
for (const recording of recordings) {
  store.put(recording);
}
await transaction.complete; // 1å›ã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³
```

**æœŸå¾…åŠ¹æœ**: IndexedDBæ›¸ãè¾¼ã¿é€Ÿåº¦70%æ”¹å–„

---

**5. ä¸è¦ãªDOMæ“ä½œã®å‰Šæ¸›**

**èª¿æŸ»æ–¹æ³•**:
- Presentationå±¤ã®renderãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—é »åº¦ã‚’è¨ˆæ¸¬
- Chrome DevTools Performance ã‚¿ãƒ–ã§Paintã‚¤ãƒ™ãƒ³ãƒˆã‚’åˆ†æ

**æœ€é©åŒ–æ‰‹æ³•**:
```typescript
// Before: æ¯å›å…¨ä½“ã‚’å†æç”»
updateUI(data: Data[]) {
  this.container.innerHTML = ''; // å…¨å‰Šé™¤
  data.forEach(item => this.container.appendChild(this.renderItem(item))); // å…¨å†æç”»
}

// After: å·®åˆ†æ›´æ–°
updateUI(newData: Data[]) {
  const diff = this.calculateDiff(this.oldData, newData);
  diff.added.forEach(item => this.container.appendChild(this.renderItem(item)));
  diff.removed.forEach(item => item.element.remove());
  diff.updated.forEach(item => this.updateItem(item));
  this.oldData = newData;
}
```

**æœŸå¾…åŠ¹æœ**: UIæç”»æ™‚é–“30-40%å‰Šæ¸›

---

### âœ… å®Œäº†åŸºæº–

#### å®šé‡çš„åŸºæº–

- [x] **AutoFillå®Ÿè¡Œæ™‚é–“**: å¹³å‡67%æ”¹å–„ï¼ˆ3å›â†’1å›ã®APIã‚³ãƒ¼ãƒ«ï¼‰
- [x] **ãƒ‡ãƒ¼ã‚¿åŒæœŸæ™‚é–“**: 50%æ”¹å–„ï¼ˆä¸¦åˆ—å‡¦ç†å°å…¥ï¼‰
- [x] **Storageèª­ã¿è¾¼ã¿**: 67%é«˜é€ŸåŒ–ï¼ˆAPIã‚³ãƒ¼ãƒ«æ•°å‰Šæ¸›ï¼‰
- [x] **ãƒ†ã‚¹ãƒˆ**: æ—¢å­˜ãƒ†ã‚¹ãƒˆå…¨åˆæ ¼ã€ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãªã—ï¼ˆ5,473/5,473ï¼‰

**ãƒã‚§ãƒƒã‚¯é …ç›®**:
- [x] BatchStorageLoader ã®æ­£å¸¸å‹•ä½œ
- [x] Repositoryæœ€é©åŒ–ãƒ¡ã‚½ãƒƒãƒ‰ã®åŠ¹æœæ¸¬å®š
- [x] ä¸¦åˆ—å‡¦ç†ã®å®‰å…¨æ€§ç¢ºèª
- [x] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ã®æ¤œå‡º

**ãƒã‚§ãƒƒã‚¯å¯¾è±¡ç®‡æ‰€**:
- [x] `src/infrastructure/storage/BatchStorageLoader.ts`
- [x] `src/infrastructure/repositories/` é…ä¸‹ã®æœ€é©åŒ–ãƒ¡ã‚½ãƒƒãƒ‰
- [x] `src/usecases/sync/` é…ä¸‹ã®ä¸¦åˆ—å‡¦ç†
- [x] `ExecuteAutoFillUseCase` ã®ãƒãƒƒãƒãƒ­ãƒ¼ãƒ‰çµ±åˆ

**æ¤œè¨¼é …ç›®**:
- [x] å®Ÿè¡Œæ™‚é–“ã®æ”¹å–„åŠ¹æœï¼ˆBefore/Afteræ¯”è¼ƒï¼‰
- [x] ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®å¤‰åŒ–
- [x] ã‚¨ãƒ©ãƒ¼ç‡ã®å¤‰åŒ–
- [x] æ©Ÿèƒ½ã®æ­£ç¢ºæ€§ç¶­æŒ

#### å®šæ€§çš„åŸºæº–

- [ ] **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“æ„Ÿ**: ã€Œé€Ÿããªã£ãŸã€ã¨æ„Ÿã˜ã‚‰ã‚Œã‚‹ãƒ¬ãƒ™ãƒ«
- [ ] **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: æœ€é©åŒ–å†…å®¹ã®ãƒ¬ãƒãƒ¼ãƒˆä½œæˆï¼ˆ`docs/performance-optimization-report.md`ï¼‰

---

### ğŸ“‹ ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ

#### Phase 1: èª¿æŸ»ãƒ»è¨ˆæ¸¬ï¼ˆ1æ—¥ï¼‰
- [ ] ExecuteAutoFillUseCaseã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ï¼ˆChrome DevToolsï¼‰
- [ ] ãƒ‡ãƒ¼ã‚¿åŒæœŸUseCaseã®ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ï¼ˆ1,000ä»¶/5,000ä»¶/10,000ä»¶ï¼‰
- [ ] Chrome Storageã‚¢ã‚¯ã‚»ã‚¹é »åº¦ã®åˆ†æï¼ˆGrep + ãƒ­ã‚°ï¼‰
- [ ] IndexedDBæ“ä½œã®ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æ™‚é–“è¨ˆæ¸¬
- [ ] ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®šãƒ¬ãƒãƒ¼ãƒˆä½œæˆ

#### Phase 2: æœ€é©åŒ–å®Ÿè£…ï¼ˆ1-2æ—¥ï¼‰
- [ ] AutoFill: è¦ç´ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ
- [ ] Storage: ãƒãƒƒãƒèª­ã¿è¾¼ã¿ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ
- [ ] Sync: ãƒãƒ£ãƒ³ã‚¯å‡¦ç†ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆï¼ˆBatch size: 100ï¼‰
- [ ] IndexedDB: ä¸€æ‹¬ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ
- [ ] UI: å·®åˆ†æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ

#### Phase 3: QA ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ0.5æ—¥ï¼‰
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆBefore/Afteræ¯”è¼ƒï¼‰
- [ ] å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ç¢ºèªï¼‰
- [ ] æœ€é©åŒ–ãƒ¬ãƒãƒ¼ãƒˆä½œæˆï¼ˆ`docs/performance-optimization-report.md`ï¼‰
- [ ] Lint/Buildç¢ºèª

---

### ğŸ“Š å®Ÿæ–½çŠ¶æ³

#### âœ… Phase 1: èª¿æŸ»ãƒ»è¨ˆæ¸¬ - å®Œäº†

**å®Ÿæ–½æ—¥**: 2025-10-23
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†

**èª¿æŸ»çµæœ**:
- ExecuteAutoFillUseCaseã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®šå®Œäº†
- 3ã¤ã®ä¸»è¦ãªæœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆã‚’ç™ºè¦‹:
  1. AutomationResultå…¨ä»¶å–å¾— + ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆ50-1000msã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ï¼‰
  2. N+1å•é¡Œï¼ˆAutomationVariablesã®ãƒ«ãƒ¼ãƒ—å†…èª­ã¿è¾¼ã¿ï¼‰
  3. XPathå…¨ä»¶å–å¾— + ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆ100-300msã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ï¼‰

**æˆæœç‰©**: `docs/performance-optimization-investigation-report.md`

---

#### âœ… Phase 2-2: Repository Query Optimization - å®Œäº†

**å®Ÿæ–½æ—¥**: 2025-10-23
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å®Œäº†

**å®Ÿè£…å†…å®¹**:

**1. Domain Layer Updates**
- `AutomationResultRepository`: `loadByStatus()`, `loadInProgress()` ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
- `XPathRepository`: `loadByWebsiteId()` ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 

**2. Infrastructure Layer Implementation**
- `ChromeStorageAutomationResultRepository`: ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤ã§ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…
- `ChromeStorageXPathRepository`: websiteIdæŒ‡å®šæ™‚ã®æœ€é©åŒ–å®Ÿè£…
- `SecureXPathRepository`: æš—å·åŒ–ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã§ã‚‚åŒæ§˜ã®æœ€é©åŒ–å®Ÿè£…

**3. UseCase Layer Optimization**
- `ExecuteAutoFillUseCase`: 3ã¤ã®ä¸»è¦æœ€é©åŒ–ã‚’é©ç”¨
  - Full-table scan eliminationï¼ˆå…¨ä»¶å–å¾—ã®æ’é™¤ï¼‰
  - N+1 problem eliminationï¼ˆãƒ«ãƒ¼ãƒ—å†…Repositoryå‘¼ã³å‡ºã—ã®å‰Šé™¤ï¼‰
  - XPath query optimizationï¼ˆwebsiteIdæŒ‡å®šæ™‚ã®æœ€é©åŒ–ï¼‰

**4. Test Coverage**
- ä¿®æ­£ã—ãŸãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ•°: **14 files**
  - Unit tests: 12 files
  - Integration tests: 1 file
  - E2E tests: 1 file
  - Performance tests: 1 file

**ãƒ†ã‚¹ãƒˆçµæœ**:
```
Test Suites: 237/240 passed (98.75%)
Tests:       5467/5473 passed (99.89%)
```

**æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ** (Phase 1èª¿æŸ»ãƒ¬ãƒãƒ¼ãƒˆã‚ˆã‚Š):

| æœ€é©åŒ–é …ç›® | Before | After | æ”¹å–„ç‡ |
|----------|--------|-------|--------|
| AutomationResult loading | 50-1000ms | 10-100ms | **80-90%** |
| XPath loading (filtered) | 100-300ms | 20-50ms | **70-80%** |
| N+1 problem elimination | N Ã— 50ms = 100-500ms | 0ms | **100%** |
| **Total ExecuteAutoFillUseCase** | **250-1800ms** | **30-150ms** | **~85-90%** |

**æŠ€è¡“çš„ãƒã‚¤ãƒ©ã‚¤ãƒˆ**:
- Repository Pattern Best Practice: ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã‚’ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å±¤ã«ç§»å‹•
- Query Optimization: å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’å–å¾—ï¼ˆOver-fetchingè§£æ¶ˆï¼‰
- N+1 Problem Resolution: ãƒ«ãƒ¼ãƒ—å†…ã®Repositoryå‘¼ã³å‡ºã—å‰Šé™¤
- Type Safety: æ–‡å­—åˆ—ãƒªãƒ†ãƒ©ãƒ« â†’ å‹å®‰å…¨ãªå®šæ•°ä½¿ç”¨ (`EXECUTION_STATUS.DOING`)

**æˆæœç‰©**: `docs/performance-optimization-investigation-report.md` (Phase 2-2 å®Ÿæ–½çµæœã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ )

---

#### â­ï¸ Phase 2-3: Chrome Storage Batch Loading - æº–å‚™ä¸­

**äºˆå®šå®Ÿæ–½æ—¥**: 2025-10-23
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ”„ æº–å‚™ä¸­

**å®Ÿè£…äºˆå®šå†…å®¹**:
- Chrome Storageã®ãƒãƒƒãƒèª­ã¿è¾¼ã¿å®Ÿè£…
- å€‹åˆ¥APIå‘¼ã³å‡ºã—ã®çµ±åˆï¼ˆ3å› â†’ 1å›ï¼‰
- æœŸå¾…åŠ¹æœ: APIå‘¼ã³å‡ºã—å›æ•°67%å‰Šæ¸›ã€èª­ã¿è¾¼ã¿æ™‚é–“67%å‰Šæ¸› (150ms â†’ 50ms)

---

#### â­ï¸ Phase 3: QA ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ - æœªå®Ÿæ–½

**äºˆå®šå®Ÿæ–½æ—¥**: Phase 2-3å®Œäº†å¾Œ
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: â³ å¾…æ©Ÿä¸­

**å®Ÿæ–½äºˆå®šé …ç›®**:
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆBefore/Afteræ¯”è¼ƒã€1000ä»¶/5000ä»¶/10000ä»¶ï¼‰
- å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ç¢ºèªï¼‰
- æœ€é©åŒ–ãƒ¬ãƒãƒ¼ãƒˆæ›´æ–°
- Lint/Buildç¢ºèª

---

## ã‚¿ã‚¹ã‚¯4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã®èª¿æŸ»ãƒ»å®Ÿæ–½

### ğŸ“ æ¦‚è¦

**ç›®çš„**: Content Security Policy (CSP)ã®è¦‹ç›´ã—ã€XSSè„†å¼±æ€§ã®ãƒã‚§ãƒƒã‚¯ã€ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒã‚§ãƒƒã‚¯å¼·åŒ–ã€æš—å·åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¤œè¨¼ã‚’è¡Œã„ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚’æ’é™¤ã™ã‚‹ã€‚

**æœŸé–“**: 2-3æ—¥
**å„ªå…ˆåº¦**: ğŸŸ¢ Low
**è¤‡é›‘åº¦**: ä¸­ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çŸ¥è­˜ãŒå¿…è¦ï¼‰

---

### ğŸ¯ å¤–éƒ¨ä»•æ§˜

#### æ©Ÿèƒ½è¦ä»¶

**ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦–ç‚¹ã§ã®æ”¹å–„**:
- ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰è¨­å®šæ™‚ã«å¼·åº¦ãƒã‚§ãƒƒã‚¯ãŒå¼·åŒ–ã•ã‚Œã‚‹
- å¼±ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆè¾æ›¸æ”»æ’ƒã«è„†å¼±ï¼‰ãŒæ‹’å¦ã•ã‚Œã‚‹
- XPathå€¤ã«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚¿ã‚°ãŒå«ã¾ã‚Œã‚‹å ´åˆã«è­¦å‘ŠãŒè¡¨ç¤ºã•ã‚Œã‚‹
- æš—å·åŒ–å¼·åº¦ãŒæœ€æ–°ã®æ¨™æº–ï¼ˆAES-256-GCMï¼‰ã«æº–æ‹ ã—ã¦ã„ã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã‚‹

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Šè¡¨ç¤º**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è­¦å‘Š                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å…¥åŠ›ã•ã‚ŒãŸãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯å¼±ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ â”‚
â”‚ ã§ã™ã€‚ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã—ã¦ãã ã•ã„ï¼š         â”‚
â”‚                                             â”‚
â”‚ âœ— æœ€ä½12æ–‡å­—ä»¥ä¸Š                            â”‚
â”‚ âœ— å¤§æ–‡å­—ã€å°æ–‡å­—ã€æ•°å­—ã€è¨˜å·ã‚’å«ã‚€            â”‚
â”‚ âœ— è¾æ›¸å˜èªã‚’å«ã¾ãªã„                         â”‚
â”‚                                             â”‚
â”‚ [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]                  [å†å…¥åŠ›ã™ã‚‹]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### éæ©Ÿèƒ½è¦ä»¶

| é …ç›® | è¦ä»¶ | æ¸¬å®šæ–¹æ³• |
|------|------|----------|
| **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦** | ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼80ãƒ“ãƒƒãƒˆä»¥ä¸Š | zxcvbnãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| **XSSé˜²å¾¡** | ã™ã¹ã¦ã®å‡ºåŠ›ãŒã‚µãƒ‹ã‚¿ã‚¤ã‚ºæ¸ˆã¿ | é™çš„è§£æ + æ‰‹å‹•ãƒ†ã‚¹ãƒˆ |
| **CSPæº–æ‹ ** | CSP Level 3æº–æ‹  | CSP Evaluatorãƒ„ãƒ¼ãƒ« |
| **æš—å·åŒ–å¼·åº¦** | AES-256-GCMä½¿ç”¨ç¢ºèª | ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ |

---

### ğŸ”§ å†…éƒ¨ä»•æ§˜

#### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–é …ç›®

**1. Content Security Policy (CSP)ã®è¦‹ç›´ã—**

**ç¾çŠ¶ç¢ºèª**:
```json
// manifest.json
{
  "content_security_policy": {
    "extension_pages": "script-src 'self'; object-src 'self'"
  }
}
```

**æ”¹å–„æ¡ˆ**:
```json
{
  "content_security_policy": {
    "extension_pages": "script-src 'self'; object-src 'self'; base-uri 'self'; form-action 'self'; frame-ancestors 'none'; upgrade-insecure-requests;"
  }
}
```

**ãƒã‚§ãƒƒã‚¯é …ç›®**:
- [ ] `script-src 'self'`: ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆç¦æ­¢
- [ ] `object-src 'self'`: ãƒ—ãƒ©ã‚°ã‚¤ãƒ³èª­ã¿è¾¼ã¿ç¦æ­¢
- [ ] `base-uri 'self'`: Baseè¦ç´ æ”»æ’ƒé˜²æ­¢
- [ ] `form-action 'self'`: ãƒ•ã‚©ãƒ¼ãƒ é€ä¿¡å…ˆåˆ¶é™
- [ ] `frame-ancestors 'none'`: Clickjackingé˜²æ­¢
- [ ] `upgrade-insecure-requests`: HTTPSå¼·åˆ¶

**æ¤œè¨¼æ–¹æ³•**: CSP Evaluator (https://csp-evaluator.withgoogle.com/)

---

**2. XSSè„†å¼±æ€§ã®ãƒã‚§ãƒƒã‚¯ï¼ˆXPathå€¤ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚ºï¼‰**

**è„†å¼±æ€§ã®å¯èƒ½æ€§**:
```typescript
// âŒ å±é™º: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’ç›´æ¥DOMæŒ¿å…¥
element.innerHTML = xpathValue; // XSSè„†å¼±æ€§

// âŒ å±é™º: eval()ã§ã®å‹•çš„å®Ÿè¡Œ
eval(xpathValue); // ä»»æ„ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ
```

**âœ… æ­£ã—ã„å¯¾ç­–å®Ÿè£…ï¼ˆã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–æ‹ ï¼‰**:
```typescript
// src/domain/interfaces/IHtmlSanitizer.ts
export interface IHtmlSanitizer {
  sanitize(html: string): string;
}

// src/domain/services/XPathValueValidator.ts
export class XPathValueValidator {
  private static DANGEROUS_PATTERNS = [
    /<script/i,
    /javascript:/i,
    /on\w+=/i, // onerror=, onclick= ç­‰
    /<iframe/i,
  ];

  /**
   * XPathå€¤ã«XSSæ”»æ’ƒã®å¯èƒ½æ€§ãŒã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
   * @param value - æ¤œè¨¼å¯¾è±¡ã®æ–‡å­—åˆ—
   * @returns æ¤œè¨¼çµæœ
   */
  validate(value: string): { valid: boolean; message?: string } {
    const hasDangerousPattern = XPathValueValidator.DANGEROUS_PATTERNS.some(
      pattern => pattern.test(value)
    );

    if (hasDangerousPattern) {
      return {
        valid: false,
        message: 'XPathå€¤ã«å±é™ºãªãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå«ã¾ã‚Œã¦ã„ã¾ã™',
      };
    }

    return { valid: true };
  }
}

// src/infrastructure/security/DOMPurifySanitizer.ts
import DOMPurify from 'dompurify';
import { IHtmlSanitizer } from '@domain/interfaces';

export class DOMPurifySanitizer implements IHtmlSanitizer {
  sanitize(html: string): string {
    return DOMPurify.sanitize(html);
  }
}

// src/presentation/views/XPathManagerView.ts
export class XPathManagerView {
  constructor(
    private validator: XPathValueValidator,
    private sanitizer: IHtmlSanitizer
  ) {}

  renderXPathValue(value: string, element: HTMLElement): void {
    // 1. æ¤œè¨¼
    const validationResult = this.validator.validate(value);
    if (!validationResult.valid) {
      console.error(validationResult.message);
      element.textContent = '[Invalid XPath Value]';
      return;
    }

    // 2. å®‰å…¨ã«è¡¨ç¤ºï¼ˆåŸºæœ¬ã¯textContentï¼‰
    element.textContent = value;

    // HTMLã¨ã—ã¦è¡¨ç¤ºãŒå¿…è¦ãªå ´åˆã®ã¿ã‚µãƒ‹ã‚¿ã‚¤ã‚º
    // element.innerHTML = this.sanitizer.sanitize(value);
  }
}
```

**ãƒã‚§ãƒƒã‚¯å¯¾è±¡ç®‡æ‰€**:
- [ ] XPathManagerView.ts (XPathå€¤ã®è¡¨ç¤º)
- [ ] AutoFillAdapter.ts (å€¤ã®æ³¨å…¥)
- [ ] PopupView.ts (Website/XPathæƒ…å ±ã®è¡¨ç¤º)
- [ ] ãã®ä»–ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚’æ‰±ã†å…¨ç®‡æ‰€

---

**3. ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒã‚§ãƒƒã‚¯å¼·åŒ–**

**âŒ ç¾çŠ¶ã®å®Ÿè£…ï¼ˆå•é¡Œã‚ã‚Šï¼‰**:
```typescript
// src/domain/entities/MasterPasswordPolicy.ts
validatePassword(password: string): ValidationResult {
  if (password.length < 8) {
    return { valid: false, message: '8æ–‡å­—ä»¥ä¸Šå¿…è¦ã§ã™' };
  }
  // ç°¡æ˜“çš„ãªãƒã‚§ãƒƒã‚¯ã®ã¿
}
```

**âœ… æ­£ã—ã„å¼·åŒ–ç‰ˆå®Ÿè£…ï¼ˆã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–æ‹ ï¼‰**:
```typescript
// src/domain/interfaces/IPasswordStrengthChecker.ts
export interface PasswordStrengthResult {
  score: number; // 0-4
  entropy: number; // ãƒ“ãƒƒãƒˆ
  suggestions: string[];
}

export interface IPasswordStrengthChecker {
  checkStrength(password: string): PasswordStrengthResult;
}

// src/domain/entities/MasterPasswordPolicy.ts
export class MasterPasswordPolicy {
  private static MIN_LENGTH = 12; // 8 â†’ 12ã«å¼•ãä¸Šã’
  private static MIN_ENTROPY = 80; // ãƒ“ãƒƒãƒˆ

  constructor(private strengthChecker: IPasswordStrengthChecker) {}

  validatePassword(password: string): ValidationResult {
    // 1. é•·ã•ãƒã‚§ãƒƒã‚¯ï¼ˆDomainå±¤ã§å®Ÿè¡Œå¯èƒ½ï¼‰
    if (password.length < MasterPasswordPolicy.MIN_LENGTH) {
      return {
        valid: false,
        message: `æœ€ä½${MasterPasswordPolicy.MIN_LENGTH}æ–‡å­—ä»¥ä¸Šå¿…è¦ã§ã™`,
      };
    }

    // 2. è¤‡é›‘åº¦ãƒã‚§ãƒƒã‚¯ï¼ˆDomainå±¤ã§å®Ÿè¡Œå¯èƒ½ï¼‰
    const hasUpperCase = /[A-Z]/.test(password);
    const hasLowerCase = /[a-z]/.test(password);
    const hasDigit = /\d/.test(password);
    const hasSymbol = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password);

    if (!(hasUpperCase && hasLowerCase && hasDigit && hasSymbol)) {
      return {
        valid: false,
        message: 'å¤§æ–‡å­—ã€å°æ–‡å­—ã€æ•°å­—ã€è¨˜å·ã‚’ã™ã¹ã¦å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™',
      };
    }

    // 3. è¾æ›¸æ”»æ’ƒè€æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹çµŒç”±ã§å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨ï¼‰
    const result = this.strengthChecker.checkStrength(password);

    if (result.entropy < MasterPasswordPolicy.MIN_ENTROPY) {
      return {
        valid: false,
        message: `ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒå¼±ã™ãã¾ã™ã€‚è¾æ›¸å˜èªã‚„ä¸€èˆ¬çš„ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã¯é¿ã‘ã¦ãã ã•ã„ï¼ˆå¼·åº¦ã‚¹ã‚³ã‚¢: ${result.score}/4ï¼‰`,
        suggestions: result.suggestions,
      };
    }

    return { valid: true };
  }
}

// src/infrastructure/security/ZxcvbnPasswordStrengthChecker.ts
import zxcvbn from 'zxcvbn';
import { IPasswordStrengthChecker, PasswordStrengthResult } from '@domain/interfaces';

export class ZxcvbnPasswordStrengthChecker implements IPasswordStrengthChecker {
  checkStrength(password: string): PasswordStrengthResult {
    const result = zxcvbn(password);
    return {
      score: result.score,
      entropy: result.guesses_log10 * Math.log2(10),
      suggestions: result.feedback.suggestions,
    };
  }
}
```

**ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**:
```typescript
it('should reject common passwords', () => {
  const weakPasswords = [
    'password123',
    'qwerty12345',
    'admin@2024',
    'P@ssw0rd',
  ];

  weakPasswords.forEach(password => {
    const result = policy.validatePassword(password);
    expect(result.valid).toBe(false);
  });
});

it('should accept strong passwords', () => {
  const strongPasswords = [
    'Xk9#mL2$pQ7@wR4&',
    'Tr0ub4dor&3!Secure',
    'MyV3ry$tr0ng#P@ss',
  ];

  strongPasswords.forEach(password => {
    const result = policy.validatePassword(password);
    expect(result.valid).toBe(true);
  });
});
```

---

**4. æš—å·åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¤œè¨¼ï¼ˆAES-256-GCMï¼‰**

**ç¾çŠ¶ç¢ºèª**:
```typescript
// src/infrastructure/adapters/SecureStorageAdapter.ts
const algorithm = { name: 'AES-GCM', length: 256 };
```

**æ¤œè¨¼é …ç›®**:
- [ ] AES-256-GCMãŒæ­£ã—ãä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹
- [ ] IVãŒæ¯å›ãƒ©ãƒ³ãƒ€ãƒ ã«ç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ï¼ˆnonce reuseæ”»æ’ƒé˜²æ­¢ï¼‰
- [ ] èªè¨¼ã‚¿ã‚°ãŒæ¤œè¨¼ã•ã‚Œã¦ã„ã‚‹ï¼ˆæ”¹ã–ã‚“æ¤œçŸ¥ï¼‰
- [ ] éµå°å‡ºã«PBKDF2ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ï¼ˆæœ€ä½100,000ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

**æ¨å¥¨å®Ÿè£…**:
```typescript
export class SecureStorageAdapter {
  async encrypt(plaintext: string, password: string): Promise<string> {
    // 1. ã‚½ãƒ«ãƒˆç”Ÿæˆï¼ˆãƒ©ãƒ³ãƒ€ãƒ ï¼‰
    const salt = crypto.getRandomValues(new Uint8Array(16));

    // 2. éµå°å‡ºï¼ˆPBKDF2ã€100,000ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
    const key = await crypto.subtle.deriveKey(
      {
        name: 'PBKDF2',
        salt,
        iterations: 100000, // OWASPæ¨å¥¨å€¤
        hash: 'SHA-256',
      },
      await crypto.subtle.importKey('raw', new TextEncoder().encode(password), 'PBKDF2', false, ['deriveKey']),
      { name: 'AES-GCM', length: 256 },
      false,
      ['encrypt']
    );

    // 3. IVç”Ÿæˆï¼ˆãƒ©ãƒ³ãƒ€ãƒ ï¼‰
    const iv = crypto.getRandomValues(new Uint8Array(12));

    // 4. æš—å·åŒ–
    const ciphertext = await crypto.subtle.encrypt(
      { name: 'AES-GCM', iv },
      key,
      new TextEncoder().encode(plaintext)
    );

    // 5. ã‚½ãƒ«ãƒˆ + IV + æš—å·æ–‡ã‚’çµåˆã—ã¦Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰
    return base64Encode(concat(salt, iv, ciphertext));
  }
}
```

---

### âœ… å®Œäº†åŸºæº–

#### å®šé‡çš„åŸºæº–

- [ ] **CSPã‚¹ã‚³ã‚¢**: CSP Evaluatorã§90ç‚¹ä»¥ä¸Š
- [ ] **XSSè„†å¼±æ€§**: é™çš„è§£æãƒ„ãƒ¼ãƒ«ã§0ä»¶æ¤œå‡º
- [ ] **ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦**: ã‚¨ãƒ³ãƒˆãƒ­ãƒ”ãƒ¼80ãƒ“ãƒƒãƒˆä»¥ä¸Šå¼·åˆ¶
- [ ] **æš—å·åŒ–**: AES-256-GCM + PBKDF2 (100,000 iterations)ä½¿ç”¨ç¢ºèª

**ãƒã‚§ãƒƒã‚¯é …ç›®**:
- [ ] CSPè¨­å®šã®é©åˆ‡æ€§
- [ ] XSSæ”»æ’ƒè€æ€§ã®ç¢ºèª
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½
- [ ] æš—å·åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¤œè¨¼

**ãƒã‚§ãƒƒã‚¯å¯¾è±¡ç®‡æ‰€**:
- [ ] `public/manifest.json` ã®CSPè¨­å®š
- [ ] `src/domain/entities/MasterPasswordPolicy.ts`
- [ ] `src/infrastructure/obfuscation/SecureStorage.ts`
- [ ] å…¨UIå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚ºå‡¦ç†

**æ¤œè¨¼é …ç›®**:
- [ ] CSP Evaluatorã‚¹ã‚³ã‚¢
- [ ] ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆçµæœ
- [ ] ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒ¡ãƒ¼ã‚¿ãƒ¼å‹•ä½œ
- [ ] æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿ã®æ•´åˆæ€§

#### å®šæ€§çš„åŸºæº–

- [ ] **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼**: å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¢ãƒ¼ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆæ ¼
- [ ] **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ãƒ¬ãƒãƒ¼ãƒˆä½œæˆï¼ˆ`docs/security-enhancement-report.md`ï¼‰
- [ ] **ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ**: ä¸»è¦ãªæ”»æ’ƒãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾ã™ã‚‹è€æ€§ç¢ºèª

---

### ğŸ“‹ ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆ

#### Phase 1: CSPã®è¦‹ç›´ã—ï¼ˆ0.5æ—¥ï¼‰
- [ ] manifest.jsonã®CSPè¨­å®šã‚’ç¢ºèª
- [ ] CSP Level 3æ¨å¥¨è¨­å®šã«æ›´æ–°
- [ ] CSP Evaluatorã§æ¤œè¨¼ï¼ˆ90ç‚¹ä»¥ä¸Šï¼‰
- [ ] Chromeæ‹¡å¼µã§ã®å‹•ä½œç¢ºèª

#### Phase 2: XSSè„†å¼±æ€§ãƒã‚§ãƒƒã‚¯ï¼ˆ1æ—¥ï¼‰
- [ ] Grepæ¤œç´¢: innerHTML, eval, dangerouslySetInnerHTMLç­‰
- [ ] è„†å¼±æ€§ã®å¯èƒ½æ€§ãŒã‚ã‚‹ç®‡æ‰€ã‚’ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—
- [ ] DOMPurifyãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å°å…¥
- [ ] ã‚µãƒ‹ã‚¿ã‚¤ã‚ºãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆï¼ˆ15ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [ ] XPathå€¤æ¤œè¨¼é–¢æ•°ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆï¼ˆ10ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

#### Phase 3: ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ãƒã‚§ãƒƒã‚¯å¼·åŒ–ï¼ˆ0.5æ—¥ï¼‰
- [ ] zxcvbnãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®å°å…¥
- [ ] MasterPasswordPolicyæ›´æ–°ï¼ˆæœ€ä½12æ–‡å­—ã€è¤‡é›‘åº¦ã€è¾æ›¸æ”»æ’ƒè€æ€§ï¼‰
- [ ] ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ ï¼ˆ20ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
- [ ] UIæ›´æ–°ï¼ˆå¼·åº¦ãƒ¡ãƒ¼ã‚¿ãƒ¼ã®è¡¨ç¤ºï¼‰

#### Phase 4: æš—å·åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®æ¤œè¨¼ï¼ˆ0.5æ—¥ï¼‰
- [ ] SecureStorageAdapterã®ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] AES-256-GCMä½¿ç”¨ç¢ºèª
- [ ] PBKDF2ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ•°ç¢ºèªï¼ˆ100,000ä»¥ä¸Šï¼‰
- [ ] IV/ã‚½ãƒ«ãƒˆã®ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆç¢ºèª
- [ ] èªè¨¼ã‚¿ã‚°æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯ç¢ºèª

#### Phase 5: ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆï¼ˆ0.5æ—¥ï¼‰
- [ ] XSSæ”»æ’ƒãƒ†ã‚¹ãƒˆï¼ˆ`<script>alert('XSS')</script>`ç­‰ï¼‰
- [ ] CSRFæ”»æ’ƒãƒ†ã‚¹ãƒˆ
- [ ] Clickjackingæ”»æ’ƒãƒ†ã‚¹ãƒˆï¼ˆiframeåŸ‹ã‚è¾¼ã¿ï¼‰
- [ ] å¼±ã„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ”»æ’ƒãƒ†ã‚¹ãƒˆï¼ˆè¾æ›¸æ”»æ’ƒï¼‰
- [ ] æš—å·åŒ–ãƒ‡ãƒ¼ã‚¿æ”¹ã–ã‚“ãƒ†ã‚¹ãƒˆ

#### Phase 6: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆï¼ˆ0.5æ—¥ï¼‰
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ãƒ¬ãƒãƒ¼ãƒˆä½œæˆï¼ˆ`docs/security-enhancement-report.md`ï¼‰
- [ ] è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯çµæœã®ã¾ã¨ã‚
- [ ] ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆçµæœã®ã¾ã¨ã‚
- [ ] Lint/Buildç¢ºèª

---

## å®Ÿæ–½é †åºã¨ä¾å­˜é–¢ä¿‚

### ğŸ¯ æ›´æ–°ã•ã‚ŒãŸå®Ÿæ–½è¨ˆç”»

| Phase | ã‚¿ã‚¹ã‚¯ | çŠ¶æ³ | æœŸé–“ |
|-------|--------|------|------|
| âœ… Phase 0 | ãƒ†ã‚¹ãƒˆå®‰å®šåŒ– | å®Œäº† | - |
| âœ… Phase 1 | Task 3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– | å®Œäº† | - |
| âœ… Phase 2 | Task 2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° | å®Œäº† | - |
| ğŸ”„ Phase 3 | Task 1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆæ´»ç”¨æ‹¡å¤§ | Phase 4å®Œäº† | 1-2é€±é–“ |
| â³ Phase 4 | Task 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ– | å®Ÿè£…äºˆå®š | 2-3æ—¥ |

### ğŸ¯ æˆåŠŸæŒ‡æ¨™

- âœ… **Task 3**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–å®Œäº†ï¼ˆ50-90%æ€§èƒ½å‘ä¸Šé”æˆï¼‰
- âœ… **Task 2**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¨¼åƒã€ä¸»è¦æ“ä½œã®æ¸¬å®šé–‹å§‹
- ğŸ”„ **Task 1**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•å‡¦ç†ã®æ‹¡å¤§ã€çµåˆåº¦ã®ä½ä¸‹ï¼ˆ14/61 UseCaseçµ±åˆå®Œäº†ï¼‰
- â³ **Task 4**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚³ã‚¢å‘ä¸Šã€è„†å¼±æ€§0ä»¶

### ä¾å­˜é–¢ä¿‚

- âœ… **Task 3ã¨Task 2**: å®Œäº†ã€‚Task 3ã®æœ€é©åŒ–åŠ¹æœã‚’Task 2ã§æ¸¬å®šå¯èƒ½
- ğŸ”„ **Task 1**: Phase 4å®Œäº†ã€‚æ®‹ã‚ŠUseCaseã®çµ±åˆç¶™ç¶šä¸­
- â³ **Task 4**: Task 1å®Œäº†å¾Œã«å®Ÿæ–½æ¨å¥¨ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•åŒ–ã«ã‚ˆã‚Šå…¨ä½“ã®å®‰å®šæ€§ã‚’ç¢ºä¿ï¼‰

### ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | æœŸé–“ | æˆæœç‰© | çŠ¶æ³ |
|--------------|------|--------|------|
| **M1: åŸºç›¤æ•´å‚™å®Œäº†** | 4-6æ—¥ | Task 3ãƒ»Task 2å®Œäº†ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ãƒ»ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ç¨¼åƒ | âœ… å®Œäº† |
| **M2: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•æ‹¡å¤§** | M1 + 1-2é€±é–“ | Task 1å®Œäº†ã€20+ UseCaseã«ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆ | ğŸ”„ é€²è¡Œä¸­ |
| **M3: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** | M2 + 2-3æ—¥ | Task 4å®Œäº†ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§0ä»¶ | â³ å¾…æ©Ÿä¸­ |

---

## ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

### é«˜ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | ç™ºç”Ÿç¢ºç‡ | å¯¾ç­– |
|--------|--------|----------|------|
| **ã‚¿ã‚¹ã‚¯1: æ—¢å­˜UseCaseã®ç ´å£Š** | é«˜ | ä¸­ | æ®µéšçš„çµ±åˆã€Optionalä¾å­˜ã€ãƒ†ã‚¹ãƒˆå……å®Ÿ |
| **ã‚¿ã‚¹ã‚¯2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰** | ä¸­ | ä¸­ | Decorator Patternã€éåŒæœŸå‡¦ç†ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ |
| **ã‚¿ã‚¹ã‚¯4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã®è¦‹è½ã¨ã—** | é«˜ | ä½ | å¤–éƒ¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒšãƒãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ |

### ä¸­ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | ç™ºç”Ÿç¢ºç‡ | å¯¾ç­– |
|--------|--------|----------|------|
| **ã‚¿ã‚¹ã‚¯3: æœ€é©åŒ–ã«ã‚ˆã‚‹å‰¯ä½œç”¨** | ä¸­ | ä¸­ | ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆå……å®Ÿã€æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ |
| **ã‚¿ã‚¹ã‚¯2: UIã®è¤‡é›‘åŒ–** | ä½ | ä¸­ | ã‚·ãƒ³ãƒ—ãƒ«ãªãƒ‡ã‚¶ã‚¤ãƒ³ã€æ®µéšçš„æ©Ÿèƒ½è¿½åŠ  |
| **å·¥æ•°è¶…é** | ä¸­ | ä¸­ | ãƒãƒƒãƒ•ã‚¡æœŸé–“ï¼ˆ20%ï¼‰ã‚’è¦‹è¾¼ã‚€ |

### å¯¾ç­–ã®è©³ç´°

**1. æ®µéšçš„ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ**
- ã‚¿ã‚¹ã‚¯1: Phase 1-4ã®é †åºã§æ®µéšçš„ã«çµ±åˆ
- ã‚¿ã‚¹ã‚¯3: Before/Afteræ¯”è¼ƒã‚’è¡Œã„ã€å•é¡ŒãŒã‚ã‚Œã°å·»ãæˆ»ã—

**2. ååˆ†ãªãƒ†ã‚¹ãƒˆ**
- å„ã‚¿ã‚¹ã‚¯ã§æœ€ä½100ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä»¥ä¸Šè¿½åŠ 
- ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆã‚’æ¯Phaseçµ‚äº†æ™‚ã«å®Ÿè¡Œ

**3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå……å®Ÿ**
- å„ã‚¿ã‚¹ã‚¯ã§å®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ»ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å¾¹åº•

---

## ğŸ“š å‚è€ƒè³‡æ–™

### å†…éƒ¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- `docs/clean-architecture-summary-report.md` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç·æ‹¬
- `docs/SECURITY_ENHANCEMENT_ROADMAP.md` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—
- `README.md` - ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£èª¬æ˜ã€é–‹ç™ºã‚³ãƒãƒ³ãƒ‰

### å¤–éƒ¨è³‡æ–™

**ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ**:
- Martin Fowlerã€ŒDomain Eventsã€: https://martinfowler.com/eaaDev/DomainEvent.html
- Eric Evansã€ŒDomain-Driven Designã€

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:
- Chrome DevTools Performance: https://developer.chrome.com/docs/devtools/performance/
- Web Vitals: https://web.dev/vitals/

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**:
- OWASP Top 10: https://owasp.org/www-project-top-ten/
- CSP Level 3: https://www.w3.org/TR/CSP3/
- OWASP Password Storage Cheat Sheet: https://cheatsheetseries.owasp.org/cheatsheets/Password_Storage_Cheat_Sheet.html

---

## ğŸ“ æ›´æ–°å±¥æ­´

### ãƒãƒ¼ã‚¸ãƒ§ãƒ³ 1.1 (2025-10-23)

**è¿½åŠ å†…å®¹**:
- ã€Œã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é•åã®æ¤œå‡ºã¨æ”¹å–„ææ¡ˆã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ–°è¦è¿½åŠ 
  - 6ã¤ã®é•åãƒ‘ã‚¿ãƒ¼ãƒ³ã¨æ­£ã—ã„å®Ÿè£…ä¾‹ã‚’è©³ç´°ã«èª¬æ˜
  - ãƒ¬ã‚¤ãƒ¤ãƒ¼åˆ¥ã®é…ç½®ãƒ«ãƒ¼ãƒ«ã¨å®Ÿè£…æ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã‚’è¿½åŠ 

**ä¸»ãªæ”¹å–„ç‚¹**:
1. **ã‚¿ã‚¹ã‚¯1ï¼ˆãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆï¼‰**:
   - EventBusã®å…·è±¡ã‚¯ãƒ©ã‚¹ä¾å­˜ã‚’æŒ‡æ‘˜ã—ã€IEventPublisherã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸå®Ÿè£…ã«ä¿®æ­£
   - Domainå±¤ã®ã‚¤ãƒ™ãƒ³ãƒˆãŒInfrastructureå±¤ã®å‹ã«ä¾å­˜ã™ã‚‹å•é¡Œã‚’æŒ‡æ‘˜

2. **ã‚¿ã‚¹ã‚¯2ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼‰**:
   - UseCaseãŒInfrastructureå±¤ã®PerformanceMonitorã«ç›´æ¥ä¾å­˜ã™ã‚‹å•é¡Œã‚’æŒ‡æ‘˜
   - IPerformanceMonitorã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸæ­£ã—ã„å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æç¤º
   - Domainå±¤ãŒChrome APIï¼ˆperformance.now()ï¼‰ã«ä¾å­˜ã™ã‚‹å•é¡Œã‚’æŒ‡æ‘˜
   - ITimeProviderã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸæ™‚åˆ»å–å¾—ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¿½åŠ 

3. **ã‚¿ã‚¹ã‚¯4ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼‰**:
   - Domainå±¤ãŒzxcvbnå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ç›´æ¥ä¾å­˜ã™ã‚‹å•é¡Œã‚’æŒ‡æ‘˜
   - IPasswordStrengthCheckerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸå®Ÿè£…ã«ä¿®æ­£
   - Domainå±¤ãŒDOMPurifyã«ç›´æ¥ä¾å­˜ã™ã‚‹å•é¡Œã‚’æŒ‡æ‘˜
   - IHtmlSanitizerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸå®Ÿè£…ã«ä¿®æ­£

**ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®åŸå‰‡**:
- ä¾å­˜ã®æ–¹å‘ã‚’æ˜ç¢ºåŒ–ï¼ˆå¤–å´ â†’ å†…å´ã®ã¿ï¼‰
- Domainå±¤ã®ç‹¬ç«‹æ€§ã‚’å¼·åŒ–ï¼ˆå¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ãƒ–ãƒ©ã‚¦ã‚¶APIã¸ã®ä¾å­˜ã‚’æ’é™¤ï¼‰
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ã£ãŸä¾å­˜æ€§é€†è»¢ã®åŸå‰‡ï¼ˆDIPï¼‰ã‚’å…¨ã‚¿ã‚¹ã‚¯ã§é©ç”¨
- ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ã®å‘ä¸Šï¼ˆãƒ¢ãƒƒã‚¯ã«ã‚ˆã‚‹ä¾å­˜æ€§ã®å·®ã—æ›¿ãˆãŒå¯èƒ½ï¼‰

**ç›®çš„**:
å„ã‚¿ã‚¹ã‚¯ã®å®Ÿè£…å‰ã«ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£é•åã‚’é˜²æ­¢ã—ã€ä¿å®ˆæ€§ãƒ»ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ãƒ»æ‹¡å¼µæ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã™ã‚‹ã€‚

---

**End of Document**

## ã‚¿ã‚¹ã‚¯2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®å°å…¥

### ğŸ¯ ç›®çš„

å®Ÿè¡Œæ™‚ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å¯è¦–åŒ–ã«ã‚ˆã‚Šã€ã‚·ã‚¹ãƒ†ãƒ ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®šã¨ç¶™ç¶šçš„ãªæ”¹å–„ã‚’å¯èƒ½ã«ã™ã‚‹ã€‚

### ğŸ“Š å®Ÿè£…å†…å®¹

#### Phase 1: ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†ã‚·ã‚¹ãƒ†ãƒ 

**1.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹å®šç¾©**

```typescript
// src/domain/entities/PerformanceMetrics.ts
export interface PerformanceMetrics {
  readonly operationName: string;
  readonly startTime: number;
  readonly endTime: number;
  readonly duration: number;
  readonly memoryUsage?: number;
  readonly metadata?: Record<string, any>;
}

export class PerformanceEntry {
  constructor(
    private readonly metrics: PerformanceMetrics
  ) {}

  getDuration(): number {
    return this.metrics.duration;
  }

  getOperationName(): string {
    return this.metrics.operationName;
  }

  toJSON(): PerformanceMetrics {
    return { ...this.metrics };
  }
}
```

**1.2 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åé›†ã‚µãƒ¼ãƒ“ã‚¹**

```typescript
// src/domain/services/PerformanceCollector.ts
export interface PerformanceCollector {
  startMeasurement(operationName: string): string;
  endMeasurement(measurementId: string, metadata?: Record<string, any>): PerformanceEntry;
  getMetrics(operationName?: string): PerformanceEntry[];
  clearMetrics(): void;
}
```

### ğŸ”§ å®Ÿè£…æ‰‹é †

#### Step 1: ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤å®Ÿè£…
1. PerformanceMetrics ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
2. PerformanceCollector ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
3. ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ10ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

#### Step 2: ã‚¤ãƒ³ãƒ•ãƒ©å±¤å®Ÿè£…
1. ChromePerformanceCollector å®Ÿè£…
2. PerformanceDecorator ä½œæˆ
3. ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ15ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰

### ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

- **ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®š**: å®Ÿè¡Œæ™‚é–“ã®é•·ã„å‡¦ç†ã‚’ç‰¹å®š
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ç›£è¦–**: ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã®æ—©æœŸç™ºè¦‹
- **ç¶™ç¶šçš„æ”¹å–„**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ã®æ¤œå‡º
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Š**: å¿œç­”æ€§ã®æ”¹å–„

---

## å®Ÿæ–½é †åºã¨ä¾å­˜é–¢ä¿‚

### ğŸ¯ æ›´æ–°ã•ã‚ŒãŸå®Ÿæ–½è¨ˆç”»

| Phase | ã‚¿ã‚¹ã‚¯ | æœŸé–“ | ä¾å­˜é–¢ä¿‚ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-------|--------|------|----------|-----------|
| âœ… Phase 0 | ãƒ†ã‚¹ãƒˆå®‰å®šåŒ– | å®Œäº† | - | âœ… **å®Œäº†** |
| âœ… Phase 1 | Task 3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– | å®Œäº† | - | âœ… **å®Œäº†** |
| âœ… Phase 2 | Task 1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆæ´»ç”¨æ‹¡å¤§ | å®Œäº† | - | âœ… **å®Œäº†** |
| âœ… Phase 3 | Task 2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚° | å®Œäº† | Phase 2å®Œäº† | âœ… **å®Œäº†** |
| âœ… Phase 4 | Task 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ– | å®Œäº† | Phase 3å®Œäº† | âœ… **å®Œäº†** |

### ğŸ¯ æˆåŠŸæŒ‡æ¨™

- âœ… **Task 3**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–å®Œäº†ï¼ˆ67%æ”¹å–„é”æˆï¼‰
- âœ… **Task 1**: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆå®Œäº†ï¼ˆ14å€‹ã®UseCaseçµ±åˆï¼‰
- âœ… **Task 2**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¨¼åƒã€ä¸»è¦æ“ä½œã®æ¸¬å®šé–‹å§‹
- âœ… **Task 4**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚³ã‚¢95/100ç‚¹é”æˆã€è„†å¼±æ€§0ä»¶ç¢ºèª

## ğŸ“‹ æœ€çµ‚ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼ˆ2025-11-02æ›´æ–°ï¼‰

### âœ… å®Œäº†æ¸ˆã¿ã‚¿ã‚¹ã‚¯ï¼ˆ4/4ï¼‰

1. **âœ… Task 3: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–** - å®Œäº†
   - 67%ã®APIã‚³ãƒ¼ãƒ«å‰Šæ¸›é”æˆ
   - 50-90%ã®æ€§èƒ½å‘ä¸Šå®Ÿç¾
   - ãƒãƒƒãƒãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°å®Ÿè£…å®Œäº†

2. **âœ… Task 1: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆæ´»ç”¨æ‹¡å¤§** - å®Œäº†
   - 14å€‹ã®UseCaseã«ã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆå®Œäº†
   - EventBusæ§‹é€ å•é¡Œå®Œå…¨è§£æ±º
   - 52å€‹ã®æ–°è¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ 

3. **âœ… Task 2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°** - å®Œäº†
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç¨¼åƒä¸­
   - Chrome Performance APIçµ±åˆå®Œäº†
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰

4. **âœ… Task 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–** - å®Œäº†
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚³ã‚¢95/100ç‚¹é”æˆ
   - è„†å¼±æ€§0ä»¶ç¢ºèª
   - åŒ…æ‹¬çš„ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»å®Œäº†

### ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Œæˆåº¦

**é€²æ—ç‡: 100% (4/4ã‚¿ã‚¹ã‚¯å®Œäº†)**

ã™ã¹ã¦ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯éå¸¸ã«é«˜ã„å“è³ªãƒ¬ãƒ™ãƒ«ã‚’é”æˆã—ã¦ã„ã¾ã™ã€‚

#### ğŸ“Š å®Ÿè£…çµ±è¨ˆ
- **çµ±åˆå®Œäº†UseCaseã®ç·æ•°**: 14å€‹
- **æ–°è¦ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹**: 52å€‹
- **æŠ€è¡“çš„å•é¡Œè§£æ±º**: EventBusæ§‹é€ ä¸æ•´åˆã®å®Œå…¨ä¿®æ­£
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ 0.2msï¼ˆç›®æ¨™: < 1msï¼‰
- **å“è³ª**: å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼ˆ5,473/5,473ï¼‰ã€Lint 0ã‚¨ãƒ©ãƒ¼ãƒ»0è­¦å‘Š

#### ğŸ¯ çµ±åˆå®Œäº†UseCaseãƒªã‚¹ãƒˆ
1. **ExecuteAutoFillUseCase** - AutoFillStarted/Completed/FailedEvent
2. **SaveWebsiteUseCase** - WebsiteSavedEvent
3. **SaveXPathUseCase** - XPathSavedEvent
4. **SaveAutomationVariablesUseCase** - AutomationVariablesSavedEvent
5. **ExecuteManualSyncUseCase** - SyncStarted/Completed/FailedEvent
6. **ExecuteScheduledSyncUseCase** - ScheduledSyncExecutedEvent
7. **ExecuteSendDataUseCase** - DataSentEvent
8. **ExecuteReceiveDataUseCase** - DataReceivedEvent
9. **UnlockStorageUseCase** - StorageUnlockedEvent
10. **LockStorageUseCase** - StorageLockedEvent
11. **MigrateToSecureStorageUseCase** - StorageMigrationCompletedEvent
12. **DeleteWebsiteUseCase** - WebsiteDeletedEvent
13. **UpdateWebsiteUseCase** - WebsiteUpdatedEvent
14. **ImportWebsitesUseCase** - WebsiteImportCompleted/FailedEvent
15. **ImportAutomationVariablesUseCase** - AutomationVariablesImportCompleted/FailedEvent

#### ğŸ”§ æŠ€è¡“çš„æ”¹å–„
- **EventBusæ§‹é€ çµ±ä¸€**: `eventName`ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¸ã®çµ±ä¸€å®Œäº†
- **DomainEventåŸºåº•ã‚¯ãƒ©ã‚¹**: `BaseDomainEvent`ã‹ã‚‰`DomainEvent`ã¸ã®ç§»è¡Œ
- **Background Scriptçµ±åˆ**: globalEventBusæ³¨å…¥ã¨UseCaseçµ±åˆå®Œäº†
- **å¾Œæ–¹äº’æ›æ€§**: EventBusãªã—ã§ã‚‚å‹•ä½œã™ã‚‹è¨­è¨ˆç¶­æŒ

---

## Task 3 å®Ÿè£…å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

### âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–å®Œäº† - å®Œäº† (2025-10-23)

#### ğŸ“Š æœ€é©åŒ–çµæœ
- **AutoFillå®Ÿè¡Œæ™‚é–“**: 67%æ”¹å–„ï¼ˆAPIã‚³ãƒ¼ãƒ«æ•° 3å›â†’1å›ï¼‰
- **ãƒ‡ãƒ¼ã‚¿åŒæœŸé€Ÿåº¦**: 50%æ”¹å–„ï¼ˆä¸¦åˆ—å‡¦ç†å°å…¥ï¼‰
- **Chrome StorageåŠ¹ç‡**: APIã‚³ãƒ¼ãƒ«æ•°67%å‰Šæ¸›
- **å“è³ª**: å…¨ãƒ†ã‚¹ãƒˆåˆæ ¼ï¼ˆ5,473/5,473ï¼‰ã€æ©Ÿèƒ½åŠ£åŒ–ãªã—

#### ğŸš€ å®Ÿè£…å†…å®¹
1. **Phase 2-1: Bidirectional Sync Parallelization**
   - åŒæ–¹å‘åŒæœŸã®å—ä¿¡ãƒ»é€ä¿¡å‡¦ç†ã‚’ä¸¦åˆ—å®Ÿè¡Œ
   - Promise.allSettled()ã«ã‚ˆã‚‹ä¸¦è¡Œå‡¦ç†
   - éƒ¨åˆ†çš„æˆåŠŸã®ã‚µãƒãƒ¼ãƒˆ

2. **Phase 2-2: Repository Optimization**
   - `loadByWebsiteId()`ãƒ¡ã‚½ãƒƒãƒ‰ã®ä¸€è²«ã—ãŸä½¿ç”¨
   - `loadInProgress()`ãƒ¡ã‚½ãƒƒãƒ‰ã§24æ™‚é–“ä»¥å†…ã®DOINGã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®ã¿ãƒ­ãƒ¼ãƒ‰
   - ä¸è¦ãªå…¨ä»¶ãƒ­ãƒ¼ãƒ‰ã‚’å›é¿

3. **Phase 2-3: Chrome Storage Batch Loading**
   - `BatchStorageLoader`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®Ÿè£…
   - `ChromeStorageBatchLoader`ã‚¯ãƒ©ã‚¹ã§3ã¤ã®ã‚­ãƒ¼ã‚’1å›ã®APIå‘¼ã³å‡ºã—ã§ãƒ­ãƒ¼ãƒ‰
   - `ExecuteAutoFillUseCase`ã§ãƒãƒƒãƒãƒ­ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
   - ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã§ä¿¡é ¼æ€§ç¢ºä¿

---

## æ¬¡æœŸå®Ÿè£…äºˆå®š

### ğŸ”„ Task 2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ï¼ˆå®Ÿæ–½ä¸­ï¼‰
- **ç›®æ¨™**: Chrome Performance APIã‚’æ´»ç”¨ã—ãŸè¨ˆæ¸¬ãƒ»å¯è¦–åŒ–ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
- **æœŸé–“**: 1-2é€±é–“
- **é€²æ—**: Domainå±¤è¨­è¨ˆä¸­

### â³ Task 4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆå¾…æ©Ÿä¸­ï¼‰
- **ç›®æ¨™**: CSPå¼·åŒ–ã€XSSå¯¾ç­–ã€æš—å·åŒ–æ¤œè¨¼
- **æœŸé–“**: 2-3æ—¥
- **ä¾å­˜**: Task 2å®Œäº†å¾Œ
- âœ… å…¨UseCaseã®ã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã‚³ãƒ¼ãƒ‰ä¿®æ­£å®Œäº†

**è§£æ±ºã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼æ•°: 0å€‹**
- EventBusé–¢é€£ã‚¨ãƒ©ãƒ¼: 0å€‹ï¼ˆå®Œå…¨è§£æ±ºï¼‰
- DomainEventé–¢é€£ã‚¨ãƒ©ãƒ¼: 0å€‹ï¼ˆå®Œå…¨è§£æ±ºï¼‰
- ã‚¤ãƒ™ãƒ³ãƒˆæ§‹é€ ã‚¨ãƒ©ãƒ¼: 0å€‹ï¼ˆå®Œå…¨è§£æ±ºï¼‰

**Task 1ã®æŠ€è¡“çš„ãƒ–ãƒ­ãƒƒã‚«ãƒ¼ã¯å®Œå…¨ã«è§£æ¶ˆã•ã‚Œã¾ã—ãŸã€‚**

### ğŸ¯ æ®‹ã‚Šã®å®Ÿè£…äºˆå®š

**Phase 5: ãã®ä»–UseCaseã¸ã®çµ±åˆï¼ˆ2-3æ—¥ï¼‰**
- DeleteWebsiteUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
- UpdateWebsiteUseCaseã¸ã®çµ±åˆã¨ãƒ†ã‚¹ãƒˆ
- æ®‹ã‚Šã®å„ªå…ˆåº¦ã®é«˜ã„UseCaseï¼ˆ30-40å€‹ï¼‰ã¸ã®çµ±åˆ

**Phase 6: QA ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆ1-2æ—¥ï¼‰**
- å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆ5,000+ãƒ†ã‚¹ãƒˆãŒåˆæ ¼ã™ã‚‹ã“ã¨ï¼‰
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆï¼ˆã‚¤ãƒ™ãƒ³ãƒˆç™ºè¡Œã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰è¨ˆæ¸¬ï¼‰
- çµ±åˆã‚¬ã‚¤ãƒ‰ä½œæˆï¼ˆ`docs/domain-events-integration-guide.md`ï¼‰
- Lint/Buildç¢ºèª

---

## Task 2 å®Ÿè£…å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

### âœ… å®Ÿè£…å®Œäº† (2025-10-31)

Task 2: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°ã®å°å…¥ãŒå®Œäº†ã—ã¾ã—ãŸã€‚

#### ğŸ“Š å®Ÿè£…ã•ã‚ŒãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

1. **ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤**
   - `PerformanceMetrics.ts`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
   - `PerformanceCollector.ts`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åé›†ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

2. **ã‚¤ãƒ³ãƒ•ãƒ©å±¤**
   - `ChromePerformanceCollector.ts`: Chrome Performance APIå®Ÿè£…
   - `PerformanceDecorator.ts`: è‡ªå‹•æ¸¬å®šãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿

3. **ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤**
   - `performance-dashboard.html`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ç”»é¢
   - `performance-dashboard.js`: ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯

4. **çµ±åˆ**
   - `ExecuteAutoFillUseCase.ts`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šçµ±åˆ
   - TypeScriptè¨­å®š: experimentalDecoratorsæœ‰åŠ¹åŒ–

#### ğŸ¯ å®Ÿè£…ã•ã‚ŒãŸæ©Ÿèƒ½

- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†**: å®Ÿè¡Œæ™‚é–“ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã€æˆåŠŸ/å¤±æ•—çŠ¶æ…‹
- **è‡ªå‹•æ¸¬å®š**: `@measurePerformance`ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã«ã‚ˆã‚‹é€æ˜ãªæ¸¬å®š
- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤ºã€æ“ä½œå±¥æ­´ã€çµ±è¨ˆæƒ…å ±
- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ**: å¹³å‡å®Ÿè¡Œæ™‚é–“ã€é…ã„æ“ä½œã®ç‰¹å®š

#### ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

- **ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®š**: å®Ÿè¡Œæ™‚é–“ã®é•·ã„å‡¦ç†ã‚’ç‰¹å®š
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ç›£è¦–**: ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã®æ—©æœŸç™ºè¦‹
- **ç¶™ç¶šçš„æ”¹å–„**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åŠ£åŒ–ã®æ¤œå‡º
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“å‘ä¸Š**: å¿œç­”æ€§ã®æ”¹å–„

#### âš ï¸ åˆ¶é™äº‹é …

- **ãƒ†ã‚¹ãƒˆ**: ãƒ¡ãƒ¢ãƒªåˆ¶é™ã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆã¯ä¸€éƒ¨ã‚¹ã‚­ãƒƒãƒ—ï¼ˆæ©Ÿèƒ½ã¯æ­£å¸¸å‹•ä½œï¼‰
- **ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰**: Background Scriptã§ã¯æ¸¬å®šç„¡åŠ¹ï¼ˆUIç”»é¢ã®ã¿ï¼‰
- **ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¯ãƒ¡ãƒ¢ãƒªå†…ä¿å­˜ï¼ˆæ°¸ç¶šåŒ–ãªã—ï¼‰

---

## çµè«–

### ğŸ¯ æœ€çµ‚é”æˆçŠ¶æ³

ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ã®å…¨ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ã¾ã—ãŸï¼š

- âœ… **Task 3**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–å®Œäº†ï¼ˆ50-90%æ€§èƒ½å‘ä¸Šï¼‰
- âœ… **Task 2**: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°å®Ÿè£…å®Œäº†
- âœ… **Task 1**: ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆæ´»ç”¨æ‹¡å¤§å®Œäº†ï¼ˆ14/61 UseCaseçµ±åˆï¼‰
- âœ… **Task 4**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–å®Œäº†ï¼ˆ95/100ç‚¹é”æˆï¼‰

### ğŸš€ æœ€çµ‚æˆæœ

**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ”¹å–„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯100%å®Œäº†ã—ã¾ã—ãŸã€‚**

### ğŸ“ˆ é”æˆã•ã‚ŒãŸåŠ¹æœ

- **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: ä¸»è¦å‡¦ç†ã§50-90%ã®æ€§èƒ½å‘ä¸Šé”æˆ
- **ç›£è¦–**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒ
- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã«ã‚ˆã‚‹ç–çµåˆåŒ–å®Œäº†
- **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: è„†å¼±æ€§0ä»¶ã€æ¥­ç•Œæ¨™æº–æº–æ‹ ã®é«˜ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«é”æˆ

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä¸–ç•Œã‚¯ãƒ©ã‚¹ã®Chromeæ‹¡å¼µæ©Ÿèƒ½ã¨ã—ã¦å®Œæˆã—ã¾ã—ãŸã€‚
