# localStorage æ±ç”¨åŒæœŸæ©Ÿèƒ½ - è¨­è¨ˆæ›¸

## æ¦‚è¦

ã™ã¹ã¦ã® localStorage ãƒ‡ãƒ¼ã‚¿ï¼ˆAutomationVariables, Websites, XPath, SystemSettings ç­‰ï¼‰ã«å¯¾ã—ã¦ã€æŸ”è»ŸãªåŒæœŸæ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚CSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ã¾ãŸã¯å¤–éƒ¨ DB ã¨ã® HTTP(S) åŒæœŸã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚

## ç›®çš„

1. **æ±ç”¨çš„ãªåŒæœŸæ©Ÿæ§‹**: localStorage æ¯ã«åŒæœŸæ–¹æ³•ã‚’è¨­å®šå¯èƒ½
2. **è¤‡æ•°ã®åŒæœŸæ–¹æ³•**: CSV ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸã€HTTP(S) DB åŒæœŸ
3. **æŸ”è»ŸãªåŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°**: æ‰‹å‹•åŒæœŸã€å®šæœŸè‡ªå‹•åŒæœŸ
4. **åŒæ–¹å‘åŒæœŸ**: å—ä¿¡ã®ã¿ã€é€ä¿¡ã®ã¿ã€ç›¸äº’åŒæœŸã‚’é¸æŠå¯èƒ½
5. **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½**: ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ‰‹é †ã¨ localStorage ã®ç´ä»˜ã‘ã‚’è‡ªç”±ã«è¨­å®š

---

# å¤–éƒ¨ä»•æ§˜

## 1. åŒæœŸè¨­å®šã®æ§‹é€ 

### 1.1 localStorage ã‚­ãƒ¼ã”ã¨ã®è¨­å®š

ä»¥ä¸‹ã® localStorage ã‚­ãƒ¼ãã‚Œãã‚Œã«åŒæœŸè¨­å®šã‚’æŒã¤ã“ã¨ãŒã§ãã¾ã™ï¼š

- `automationVariables`: è‡ªå‹•å…¥åŠ›å¤‰æ•°
- `websiteConfigs`: ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆè¨­å®š
- `xpathCollectionCSV`: XPath å®šç¾©
- `automationResults`: è‡ªå‹•å…¥åŠ›å®Ÿè¡Œçµæœ
- `systemSettings`: ã‚·ã‚¹ãƒ†ãƒ è¨­å®š

### 1.2 åŒæœŸè¨­å®šã®è¦ç´ 

å„ localStorage ã‚­ãƒ¼ã«å¯¾ã—ã¦ã€ä»¥ä¸‹ã®è¨­å®šã‚’è¡Œã„ã¾ã™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»åŒæœŸæ–¹æ³•                                 â”‚
â”‚    â—‹ CSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ                       â”‚
â”‚    â—‹ DB åŒæœŸï¼ˆHTTP(S)ï¼‰                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°                                       â”‚
â”‚    â—‹ æ‰‹å‹•ï¼ˆã‚¤ãƒ³ãƒãƒ¼ãƒˆ / ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆé¸æŠå¯ï¼‰            â”‚
â”‚    â—‹ å®šæœŸï¼ˆDBåŒæœŸã®ã¿ã€é »åº¦ã‚’ç§’å˜ä½ã§æŒ‡å®šï¼‰            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. åŒæœŸç¨®åˆ¥                                             â”‚
â”‚    â—‹ ç›¸äº’ï¼ˆé€å—ä¿¡ï¼‰                                     â”‚
â”‚    â—‹ å—ä¿¡ã®ã¿                                           â”‚
â”‚    â—‹ é€ä¿¡ã®ã¿                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. åŒæœŸæ‰‹é †ï¼ˆDBåŒæœŸã®å ´åˆï¼‰                             â”‚
â”‚    - URLã€èªè¨¼æƒ…å ±                                      â”‚
â”‚    - ãƒªã‚¯ã‚¨ã‚¹ãƒˆé †åº                                     â”‚
â”‚    - localStorage ã®é …ç›®ã¨ã®ç´ä»˜ã‘                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

### 2.1 ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ - ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–

æ—¢å­˜ã®ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ï¼ˆxpath-manager.htmlï¼‰ã«ã€Œãƒ‡ãƒ¼ã‚¿åŒæœŸã€ã‚¿ãƒ–ã‚’è¿½åŠ ã—ã¾ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ã‚·ã‚¹ãƒ†ãƒ è¨­å®š                                          [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ä¸€èˆ¬è¨­å®š] [ãƒªãƒˆãƒ©ã‚¤è¨­å®š] [ãƒ‡ãƒ¼ã‚¿åŒæœŸ]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚ ğŸ”„ ãƒ‡ãƒ¼ã‚¿åŒæœŸè¨­å®š                                          â”‚
â”‚                                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ localStorage åŒæœŸè¨­å®š                               â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ ğŸ“‹ Automation Variables                 [è¨­å®š] â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ åŒæœŸæ–¹æ³•: DBåŒæœŸï¼ˆHTTP(S)ï¼‰                    â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ã‚¿ã‚¤ãƒŸãƒ³ã‚°: å®šæœŸï¼ˆ300ç§’ã”ã¨ï¼‰                  â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ç¨®åˆ¥: ç›¸äº’åŒæœŸ                                 â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ æœ€çµ‚åŒæœŸ: 2025-10-15 10:30:45 âœ…              â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                              [ä»Šã™ãåŒæœŸ]     â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ ğŸŒ Website Configs                      [è¨­å®š] â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ åŒæœŸæ–¹æ³•: CSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ         â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ã‚¿ã‚¤ãƒŸãƒ³ã‚°: æ‰‹å‹•                               â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ç¨®åˆ¥: ç›¸äº’åŒæœŸ                                 â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ æœ€çµ‚åŒæœŸ: -                                    â”‚ â”‚   â”‚
â”‚ â”‚ â”‚           [ã‚¤ãƒ³ãƒãƒ¼ãƒˆ] [ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]         â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ ğŸ¯ XPath Collection                     [è¨­å®š] â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ åŒæœŸæ–¹æ³•: DBåŒæœŸï¼ˆHTTP(S)ï¼‰                    â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ã‚¿ã‚¤ãƒŸãƒ³ã‚°: æ‰‹å‹•                               â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ç¨®åˆ¥: å—ä¿¡ã®ã¿                                 â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ æœ€çµ‚åŒæœŸ: 2025-10-15 09:00:00 âœ…              â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                              [ä»Šã™ãåŒæœŸ]     â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ ğŸ“Š Automation Results                   [è¨­å®š] â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ åŒæœŸæ–¹æ³•: æœªè¨­å®š                               â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                              [åŒæœŸã‚’è¨­å®š]     â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ âš™ï¸ System Settings                      [è¨­å®š] â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ åŒæœŸæ–¹æ³•: æœªè¨­å®š                               â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                              [åŒæœŸã‚’è¨­å®š]     â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚                                   [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä¿å­˜]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 åŒæœŸè¨­å®šè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‡ãƒ¼ã‚¿åŒæœŸè¨­å®š - Automation Variables               [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚ 1. ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»åŒæœŸæ–¹æ³• *                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â—‹ CSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ                       â”‚   â”‚
â”‚ â”‚ â— DB åŒæœŸï¼ˆHTTP(S)ï¼‰                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ 2. åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚° *                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â—‹ æ‰‹å‹•åŒæœŸ                                           â”‚   â”‚
â”‚ â”‚ â— å®šæœŸè‡ªå‹•åŒæœŸ                                       â”‚   â”‚
â”‚ â”‚   â””â”€ åŒæœŸé–“éš”: [300] ç§’ã”ã¨                         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ 3. åŒæœŸç¨®åˆ¥ *                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â— ç›¸äº’åŒæœŸï¼ˆé€å—ä¿¡ï¼‰                                 â”‚   â”‚
â”‚ â”‚ â—‹ å—ä¿¡ã®ã¿                                           â”‚   â”‚
â”‚ â”‚ â—‹ é€ä¿¡ã®ã¿                                           â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ 4. åŒæœŸæ‰‹é † - å—ä¿¡è¨­å®š                [+ ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ ]    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ å—ä¿¡ã‚¹ãƒ†ãƒƒãƒ— 1: ãƒ‡ãƒ¼ã‚¿ä¸€è¦§å–å¾—          [â†‘] [â†“] [Ã—] â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ ãƒ¡ã‚½ãƒƒãƒ‰: GET                                  â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ URL: https://api.example.com/automation-vars  â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                                                â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ èªè¨¼è¨­å®š:                                      â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   ã‚¿ã‚¤ãƒ—: Bearer Token                         â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   ãƒˆãƒ¼ã‚¯ãƒ³: secret_*********************      â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                                                â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼:                                      â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   - Content-Type: application/json            â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                                                â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°:                          â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹: $.data                          â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   localStorage ã¸ã®ä¿å­˜æ–¹æ³•: é…åˆ—å…¨ä½“ã‚’ä¿å­˜   â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ 5. åŒæœŸæ‰‹é † - é€ä¿¡è¨­å®š                [+ ã‚¹ãƒ†ãƒƒãƒ—è¿½åŠ ]    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ é€ä¿¡ã‚¹ãƒ†ãƒƒãƒ— 1: ãƒ‡ãƒ¼ã‚¿å…¨ä½“ã‚’é€ä¿¡        [â†‘] [â†“] [Ã—] â”‚   â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚ â”‚ â”‚ ãƒ¡ã‚½ãƒƒãƒ‰: POST                                 â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ URL: https://api.example.com/automation-vars  â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                                                â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ èªè¨¼è¨­å®š:                                      â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   ã‚¿ã‚¤ãƒ—: Bearer Token                         â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   ãƒˆãƒ¼ã‚¯ãƒ³: secret_*********************      â”‚ â”‚   â”‚
â”‚ â”‚ â”‚                                                â”‚ â”‚   â”‚
â”‚ â”‚ â”‚ ãƒœãƒ‡ã‚£æ§‹ç¯‰:                                    â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   localStorage ã‹ã‚‰: automationVariables      â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   é€ä¿¡ãƒ‡ãƒ¼ã‚¿å½¢å¼: JSONé…åˆ—                     â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:                                â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   {                                            â”‚ â”‚   â”‚
â”‚ â”‚ â”‚     "data": ${localStorage}                   â”‚ â”‚   â”‚
â”‚ â”‚ â”‚   }                                            â”‚ â”‚   â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ                                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ [ğŸ§ª å—ä¿¡ãƒ†ã‚¹ãƒˆ] [ğŸ§ª é€ä¿¡ãƒ†ã‚¹ãƒˆ]                      â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ å—ä¿¡ãƒ†ã‚¹ãƒˆçµæœ: ğŸŸ¢ æˆåŠŸï¼ˆ5ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ï¼‰        â”‚   â”‚
â”‚ â”‚ é€ä¿¡ãƒ†ã‚¹ãƒˆçµæœ: ğŸŸ¢ æˆåŠŸï¼ˆ3ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ï¼‰        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚                                   [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä¿å­˜]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 CSV åŒæœŸã®å ´åˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ‡ãƒ¼ã‚¿åŒæœŸè¨­å®š - Website Configs                    [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚ 1. ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ»åŒæœŸæ–¹æ³• *                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â— CSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ                       â”‚   â”‚
â”‚ â”‚ â—‹ DB åŒæœŸï¼ˆHTTP(S)ï¼‰                                 â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ 2. åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚° *                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â— æ‰‹å‹•åŒæœŸ                                           â”‚   â”‚
â”‚ â”‚   [ã‚¤ãƒ³ãƒãƒ¼ãƒˆ] [ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ] ãƒœã‚¿ãƒ³ã‚’ä½¿ç”¨          â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ 3. åŒæœŸç¨®åˆ¥ *                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ â— ç›¸äº’åŒæœŸï¼ˆã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ»ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆä¸¡æ–¹å¯èƒ½ï¼‰       â”‚   â”‚
â”‚ â”‚ â—‹ å—ä¿¡ã®ã¿ï¼ˆã‚¤ãƒ³ãƒãƒ¼ãƒˆã®ã¿ï¼‰                        â”‚   â”‚
â”‚ â”‚ â—‹ é€ä¿¡ã®ã¿ï¼ˆã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®ã¿ï¼‰                      â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚ 4. CSV ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¨­å®š                                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ æ–‡å­—ã‚³ãƒ¼ãƒ‰: [v] UTF-8                                â”‚   â”‚
â”‚ â”‚              Shift-JIS                               â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ åŒºåˆ‡ã‚Šæ–‡å­—: [v] ã‚«ãƒ³ãƒ (,)                           â”‚   â”‚
â”‚ â”‚              ã‚¿ãƒ– (\t)                               â”‚   â”‚
â”‚ â”‚              ã‚»ãƒŸã‚³ãƒ­ãƒ³ (;)                          â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œ: â˜‘ 1è¡Œç›®ã‚’ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã™ã‚‹                 â”‚   â”‚
â”‚ â”‚                                                      â”‚   â”‚
â”‚ â”‚ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°:                                â”‚   â”‚
â”‚ â”‚   CSVåˆ— â†’ localStorage ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰                   â”‚   â”‚
â”‚ â”‚   ãƒ»id â†’ id                                         â”‚   â”‚
â”‚ â”‚   ãƒ»name â†’ name                                     â”‚   â”‚
â”‚ â”‚   ãƒ»url â†’ url                                       â”‚   â”‚
â”‚ â”‚   ãƒ»status â†’ status                                 â”‚   â”‚
â”‚ â”‚   [+ ãƒãƒƒãƒ”ãƒ³ã‚°è¿½åŠ ]                                â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚                                   [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä¿å­˜]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### 3.1 å…¨ä½“ãƒ•ãƒ­ãƒ¼

```
[ãƒ¦ãƒ¼ã‚¶ãƒ¼] â†’ [ã‚·ã‚¹ãƒ†ãƒ è¨­å®š - ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–]
                    â†“
        [localStorage ã‚­ãƒ¼ã‚’é¸æŠ]
                    â†“
              [åŒæœŸè¨­å®šã‚’æ§‹æˆ]
                    â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                â”‚
[CSV åŒæœŸ]                     [DB åŒæœŸ]
    â”‚                                â”‚
    â”œâ”€ ã‚¤ãƒ³ãƒãƒ¼ãƒˆ                   â”œâ”€ å—ä¿¡ï¼ˆGET/POSTï¼‰
    â”‚  - ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ               â”‚  - HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ
    â”‚  - CSV ãƒ‘ãƒ¼ã‚¹                 â”‚  - ãƒ¬ã‚¹ãƒãƒ³ã‚¹è§£æ
    â”‚  - ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸               â”‚  - ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¸
    â”‚                                â”‚
    â””â”€ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ                 â””â”€ é€ä¿¡ï¼ˆPOST/PUTï¼‰
       - ãƒ‡ãƒ¼ã‚¿å–å¾—                    - localStorage èª­ã¿è¾¼ã¿
       - CSV ç”Ÿæˆ                      - ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£æ§‹ç¯‰
       - ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰                  - HTTP ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ
```

### 3.2 DB åŒæœŸ - å—ä¿¡ãƒ•ãƒ­ãƒ¼ï¼ˆç›¸äº’åŒæœŸ or å—ä¿¡ã®ã¿ï¼‰

```
1. å®šæœŸåŒæœŸ or æ‰‹å‹•åŒæœŸãƒˆãƒªã‚¬ãƒ¼

2. åŒæœŸè¨­å®šã‚’èª­ã¿è¾¼ã¿

3. å—ä¿¡ã‚¹ãƒ†ãƒƒãƒ—ã‚’é †ç•ªã«å®Ÿè¡Œ:
   a. URLã«GET/POSTãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡
   b. èªè¨¼æƒ…å ±ã‚’å«ã‚€
   c. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ä¿¡
   d. JSONãƒ‘ãƒ¼ã‚¹ã—ã¦ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¹ã‹ã‚‰æŠ½å‡º

4. æ—¢å­˜ã®localStorageãƒ‡ãƒ¼ã‚¿ã¨æ¯”è¼ƒ:
   - æ–°è¦ãƒ‡ãƒ¼ã‚¿: è¿½åŠ 
   - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿: æ›´æ–°ï¼ˆã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ¯”è¼ƒï¼‰
   - å‰Šé™¤ãƒ‡ãƒ¼ã‚¿: å‰Šé™¤ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

5. localStorage ã«ä¿å­˜

6. åŒæœŸå®Œäº†é€šçŸ¥
```

### 3.3 DB åŒæœŸ - é€ä¿¡ãƒ•ãƒ­ãƒ¼ï¼ˆç›¸äº’åŒæœŸ or é€ä¿¡ã®ã¿ï¼‰

```
1. å®šæœŸåŒæœŸ or æ‰‹å‹•åŒæœŸãƒˆãƒªã‚¬ãƒ¼

2. åŒæœŸè¨­å®šã‚’èª­ã¿è¾¼ã¿

3. localStorage ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿

4. é€ä¿¡ã‚¹ãƒ†ãƒƒãƒ—ã‚’é †ç•ªã«å®Ÿè¡Œ:
   a. ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã‚’æ§‹ç¯‰ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½¿ç”¨ï¼‰
   b. POST/PUT ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡
   c. èªè¨¼æƒ…å ±ã‚’å«ã‚€
   d. ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å—ä¿¡ã—ã¦ç¢ºèª

5. é€ä¿¡å®Œäº†é€šçŸ¥
```

### 3.4 CSV åŒæœŸ - ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

2. ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º

3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒCSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ

4. CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿
   - æ–‡å­—ã‚³ãƒ¼ãƒ‰å¤‰æ›
   - CSVãƒ‘ãƒ¼ã‚¹ï¼ˆåŒºåˆ‡ã‚Šæ–‡å­—ã€ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œï¼‰

5. ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã«åŸºã¥ã„ã¦ãƒ‡ãƒ¼ã‚¿å¤‰æ›

6. æ—¢å­˜ã®localStorageãƒ‡ãƒ¼ã‚¿ã¨ãƒãƒ¼ã‚¸
   - æ–°è¦ãƒ‡ãƒ¼ã‚¿: è¿½åŠ 
   - æ—¢å­˜ãƒ‡ãƒ¼ã‚¿: ä¸Šæ›¸ã or ã‚¹ã‚­ãƒƒãƒ—ï¼ˆè¨­å®šã«ã‚ˆã‚‹ï¼‰

7. localStorage ã«ä¿å­˜

8. ã‚¤ãƒ³ãƒãƒ¼ãƒˆå®Œäº†é€šçŸ¥ï¼ˆä»¶æ•°è¡¨ç¤ºï¼‰
```

### 3.5 CSV åŒæœŸ - ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ•ãƒ­ãƒ¼

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯

2. localStorage ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿è¾¼ã¿

3. ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã«åŸºã¥ã„ã¦CSVãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
   - ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œè¿½åŠ 
   - ãƒ‡ãƒ¼ã‚¿è¡Œè¿½åŠ 

4. æ–‡å­—ã‚³ãƒ¼ãƒ‰å¤‰æ›

5. CSVãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

6. ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå®Œäº†é€šçŸ¥ï¼ˆä»¶æ•°è¡¨ç¤ºï¼‰
```

## 4. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

### UC-1: localStorage åŒæœŸè¨­å®šã®ä½œæˆ

1. ã‚·ã‚¹ãƒ†ãƒ è¨­å®šç”»é¢ã‚’é–‹ã
2. ã€Œãƒ‡ãƒ¼ã‚¿åŒæœŸã€ã‚¿ãƒ–ã‚’é¸æŠ
3. å¯¾è±¡ã® localStorage ã‚­ãƒ¼ã®ã€Œè¨­å®šã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
4. åŒæœŸæ–¹æ³•ï¼ˆCSV / DBï¼‰ã‚’é¸æŠ
5. åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ï¼ˆæ‰‹å‹• / å®šæœŸï¼‰ã‚’é¸æŠ
6. åŒæœŸç¨®åˆ¥ï¼ˆç›¸äº’ / å—ä¿¡ã®ã¿ / é€ä¿¡ã®ã¿ï¼‰ã‚’é¸æŠ
7. åŒæœŸæ‰‹é †ã‚’è¨­å®šï¼ˆDB ã®å ´åˆï¼‰
8. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã§å‹•ä½œç¢ºèª
9. ã€Œä¿å­˜ã€ã§è¨­å®šã‚’ä¿å­˜

### UC-2: æ‰‹å‹•åŒæœŸã®å®Ÿè¡Œï¼ˆCSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼‰

1. ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–ã§å¯¾è±¡ã® localStorage ã‚­ãƒ¼ã®ã€Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ
3. ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹
4. å®Œäº†é€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆä¾‹: "5ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ"ï¼‰

### UC-3: æ‰‹å‹•åŒæœŸã®å®Ÿè¡Œï¼ˆCSV ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼‰

1. ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–ã§å¯¾è±¡ã® localStorage ã‚­ãƒ¼ã®ã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. CSVãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹
3. å®Œäº†é€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆä¾‹: "10ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ"ï¼‰

### UC-4: æ‰‹å‹•åŒæœŸã®å®Ÿè¡Œï¼ˆDB åŒæœŸï¼‰

1. ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–ã§å¯¾è±¡ã® localStorage ã‚­ãƒ¼ã®ã€Œä»Šã™ãåŒæœŸã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. åŒæœŸç¨®åˆ¥ã«å¿œã˜ã¦å—ä¿¡ãƒ»é€ä¿¡å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã‚‹
3. åŒæœŸé€²æ—ãŒè¡¨ç¤ºã•ã‚Œã‚‹
4. å®Œäº†é€šçŸ¥ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆä¾‹: "å—ä¿¡: 5ä»¶æ›´æ–°ã€é€ä¿¡: 3ä»¶é€ä¿¡"ï¼‰

### UC-5: å®šæœŸè‡ªå‹•åŒæœŸï¼ˆDB åŒæœŸã®ã¿ï¼‰

1. ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§å®šæœŸçš„ã«ã‚¿ã‚¤ãƒãƒ¼ãŒç™ºç«
2. å®šæœŸåŒæœŸãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹ localStorage ã‚­ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯
3. åŒæœŸé–“éš”ãŒçµŒéã—ã¦ã„ã‚‹ã‚‚ã®ã‚’åŒæœŸå®Ÿè¡Œ
4. åŒæœŸçµæœã‚’ãƒ­ã‚°ã«è¨˜éŒ²
5. ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã¯é€šçŸ¥ã‚’è¡¨ç¤ºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

### UC-6: åŒæœŸè¨­å®šã®ç·¨é›†

1. ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–ã§å¯¾è±¡ã® localStorage ã‚­ãƒ¼ã®ã€Œè¨­å®šã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. æ—¢å­˜ã®è¨­å®šãŒè¡¨ç¤ºã•ã‚Œã‚‹
3. è¨­å®šã‚’å¤‰æ›´
4. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã§å‹•ä½œç¢ºèª
5. ã€Œä¿å­˜ã€ã§å¤‰æ›´ã‚’ä¿å­˜

### UC-7: åŒæœŸè¨­å®šã®å‰Šé™¤

1. ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–ã§å¯¾è±¡ã® localStorage ã‚­ãƒ¼ã®ã€Œè¨­å®šã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã€ŒåŒæœŸè¨­å®šã‚’å‰Šé™¤ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã§ã€Œå‰Šé™¤ã€ã‚’é¸æŠ
4. åŒæœŸè¨­å®šãŒå‰Šé™¤ã•ã‚Œã‚‹ï¼ˆlocalStorage ã®ãƒ‡ãƒ¼ã‚¿ã¯ä¿æŒï¼‰

## 5. åŒæœŸç«¶åˆã®è§£æ±º

### 5.1 ç«¶åˆãƒ‘ã‚¿ãƒ¼ãƒ³

1. **ãƒ­ãƒ¼ã‚«ãƒ«ã¨ãƒªãƒ¢ãƒ¼ãƒˆã®ä¸¡æ–¹ãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹å ´åˆ**
   - ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ¯”è¼ƒã§æ–°ã—ã„æ–¹ã‚’æ¡ç”¨ï¼ˆLast Write Winsï¼‰
   - ã¾ãŸã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é¸æŠã•ã›ã‚‹ï¼ˆUI è¡¨ç¤ºï¼‰

2. **ãƒ­ãƒ¼ã‚«ãƒ«ã§å‰Šé™¤ã€ãƒªãƒ¢ãƒ¼ãƒˆã§æ›´æ–°ã•ã‚Œã¦ã„ã‚‹å ´åˆ**
   - ãƒªãƒ¢ãƒ¼ãƒˆã®æ›´æ–°ã‚’å„ªå…ˆï¼ˆå¾©æ´»ï¼‰
   - ã¾ãŸã¯ã€å‰Šé™¤ã‚’å„ªå…ˆï¼ˆè¨­å®šã«ã‚ˆã‚‹ï¼‰

3. **ãƒ­ãƒ¼ã‚«ãƒ«ã§æ›´æ–°ã€ãƒªãƒ¢ãƒ¼ãƒˆã§å‰Šé™¤ã•ã‚Œã¦ã„ã‚‹å ´åˆ**
   - ãƒ­ãƒ¼ã‚«ãƒ«ã®æ›´æ–°ã‚’å„ªå…ˆï¼ˆå†é€ä¿¡ï¼‰
   - ã¾ãŸã¯ã€å‰Šé™¤ã‚’å„ªå…ˆï¼ˆè¨­å®šã«ã‚ˆã‚‹ï¼‰

### 5.2 ç«¶åˆè§£æ±ºãƒãƒªã‚·ãƒ¼ï¼ˆè¨­å®šå¯èƒ½ï¼‰

```
ç«¶åˆè§£æ±ºãƒãƒªã‚·ãƒ¼:
- æœ€æ–°ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—å„ªå…ˆï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
- ãƒ­ãƒ¼ã‚«ãƒ«å„ªå…ˆ
- ãƒªãƒ¢ãƒ¼ãƒˆå„ªå…ˆ
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèª
```

## 6. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 6.1 DB åŒæœŸã®ã‚¨ãƒ©ãƒ¼

1. **èªè¨¼ã‚¨ãƒ©ãƒ¼**: ãƒˆãƒ¼ã‚¯ãƒ³ãŒç„¡åŠ¹ã€æœŸé™åˆ‡ã‚Œ
   - ã‚¨ãƒ©ãƒ¼é€šçŸ¥ã‚’è¡¨ç¤º
   - è¨­å®šç”»é¢ã§èªè¨¼æƒ…å ±ã‚’æ›´æ–°ã™ã‚‹ã‚ˆã†ä¿ƒã™

2. **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼**: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€æ¥ç¶šå¤±æ•—
   - ãƒªãƒˆãƒ©ã‚¤å‡¦ç†ï¼ˆæœ€å¤§3å›ï¼‰
   - å¤±æ•—ã—ãŸå ´åˆã¯ã‚¨ãƒ©ãƒ¼é€šçŸ¥

3. **ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚¨ãƒ©ãƒ¼**: æœŸå¾…ã—ãŸãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¨ç•°ãªã‚‹
   - ã‚¨ãƒ©ãƒ¼è©³ç´°ã‚’ãƒ­ã‚°ã«è¨˜éŒ²
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥

4. **ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚¨ãƒ©ãƒ¼**: APIå‘¼ã³å‡ºã—å›æ•°ã®ä¸Šé™
   - æ¬¡å›ã®åŒæœŸæ™‚åˆ»ã‚’èª¿æ•´
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€šçŸ¥

### 6.2 CSV åŒæœŸã®ã‚¨ãƒ©ãƒ¼

1. **ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼**: ãƒ•ã‚¡ã‚¤ãƒ«ãŒç ´æã€å½¢å¼ä¸æ­£
   - ã‚¨ãƒ©ãƒ¼é€šçŸ¥ã‚’è¡¨ç¤º
   - æ­£ã—ã„å½¢å¼ã®ä¾‹ã‚’è¡¨ç¤º

2. **æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ©ãƒ¼**: æ–‡å­—ã‚³ãƒ¼ãƒ‰ãŒåˆã‚ãªã„
   - è‡ªå‹•æ¤œå‡ºã‚’è©¦ã¿ã‚‹
   - æ‰‹å‹•ã§æ–‡å­—ã‚³ãƒ¼ãƒ‰ã‚’é¸æŠã•ã›ã‚‹

3. **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã‚¨ãƒ©ãƒ¼**: å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒãªã„
   - ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’å…·ä½“çš„ã«è¡¨ç¤º
   - ãƒãƒƒãƒ”ãƒ³ã‚°è¨­å®šã®ç¢ºèªã‚’ä¿ƒã™

### 6.3 ç«¶åˆã‚¨ãƒ©ãƒ¼

1. **æ›´æ–°ç«¶åˆ**: åŒæ™‚ã«æ›´æ–°ã•ã‚ŒãŸ
   - ç«¶åˆè§£æ±ºãƒãƒªã‚·ãƒ¼ã«å¾“ã£ã¦å‡¦ç†
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¢ºèªãŒå¿…è¦ãªå ´åˆã¯ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º

## 7. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### 7.1 èªè¨¼æƒ…å ±ã®ä¿è­·

- èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ç­‰ã¯æš—å·åŒ–ã—ã¦ chrome.storage.local ã«ä¿å­˜
- UIè¡¨ç¤ºæ™‚ã¯ãƒã‚¹ã‚¯è¡¨ç¤º
- ãƒ­ã‚°ã«èªè¨¼æƒ…å ±ã‚’å‡ºåŠ›ã—ãªã„

### 7.2 HTTPS å¿…é ˆ

- DB åŒæœŸã¯ã™ã¹ã¦ HTTPS ã‚’å¿…é ˆã¨ã™ã‚‹
- HTTP æ¥ç¶šã¯è­¦å‘Šã‚’è¡¨ç¤ºã—ã€å®Ÿè¡Œã‚’åˆ¶é™

### 7.3 ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼

- å—ä¿¡ãƒ‡ãƒ¼ã‚¿ã®å‹æ¤œè¨¼
- XSS å¯¾ç­–ï¼ˆãƒ‡ãƒ¼ã‚¿ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚¸ãƒ³ã‚°ï¼‰
- CSV ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–

---

# å†…éƒ¨ä»•æ§˜

## 1. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

æ—¢å­˜ã®Clean Architectureæ§‹é€ ã‚’ç¶­æŒã—ã€ä»¥ä¸‹ã®å±¤ã§å®Ÿè£…ã—ã¾ã™ï¼š

```
Presentation Layer (UI)
    â”œâ”€â”€ SystemSettingsManager (ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–)
    â”œâ”€â”€ StorageSyncConfigModal (åŒæœŸè¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«)
    â””â”€â”€ StorageSyncController (åŒæœŸå®Ÿè¡Œåˆ¶å¾¡)

Use Case Layer
    â”œâ”€â”€ CreateStorageSyncConfigUseCase
    â”œâ”€â”€ UpdateStorageSyncConfigUseCase
    â”œâ”€â”€ DeleteStorageSyncConfigUseCase
    â”œâ”€â”€ GetStorageSyncConfigsUseCase
    â”œâ”€â”€ ExecuteStorageSyncUseCase (ãƒ¡ã‚¤ãƒ³åŒæœŸå‡¦ç†)
    â”œâ”€â”€ ImportCSVUseCase
    â””â”€â”€ ExportCSVUseCase

Domain Layer
    â”œâ”€â”€ Entities
    â”‚   â”œâ”€â”€ StorageSyncConfig (åŒæœŸè¨­å®š)
    â”‚   â”œâ”€â”€ SyncStep (åŒæœŸã‚¹ãƒ†ãƒƒãƒ—)
    â”‚   â””â”€â”€ SyncResult (åŒæœŸçµæœ)
    â”œâ”€â”€ Repositories
    â”‚   â””â”€â”€ StorageSyncConfigRepository
    â””â”€â”€ Services
        â”œâ”€â”€ ISyncService (åŒæœŸå®Ÿè¡Œã‚µãƒ¼ãƒ“ã‚¹)
        â”œâ”€â”€ IHttpClient (HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ)
        â”œâ”€â”€ ICSVConverter (CSVå¤‰æ›)
        â””â”€â”€ IDataMapper (ãƒ‡ãƒ¼ã‚¿ãƒãƒƒãƒ”ãƒ³ã‚°)

Infrastructure Layer
    â”œâ”€â”€ Repositories
    â”‚   â””â”€â”€ ChromeStorageStorageSyncConfigRepository
    â”œâ”€â”€ Services
    â”‚   â”œâ”€â”€ DBSyncService (DBåŒæœŸå®Ÿè£…)
    â”‚   â”œâ”€â”€ CSVSyncService (CSVåŒæœŸå®Ÿè£…)
    â”‚   â”œâ”€â”€ ChromeHttpClient
    â”‚   â”œâ”€â”€ CSVConverter
    â”‚   â””â”€â”€ JsonPathDataMapper
    â”œâ”€â”€ Encryption
    â”‚   â”œâ”€â”€ WebCryptoService (implements CryptoService - å†åˆ©ç”¨)
    â”‚   â””â”€â”€ TokenEncryptionService (uses CryptoService)
    â””â”€â”€ Scheduler
        â””â”€â”€ PeriodicSyncScheduler (å®šæœŸåŒæœŸ)

**Note**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åŸºç›¤ã¯ Phase 1 (ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£… - Section 3.2) ã§å®Ÿè£…å®Œäº†ã—ã€ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚‚å®Œäº†æ¸ˆã¿ (2025-10-15)ã€‚

**å®Œäº†ã—ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ (Section 3.2.1 ~ 3.2.8)**:
- `CryptoService` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (domain layer) - æš—å·åŒ–ã‚µãƒ¼ãƒ“ã‚¹æŠ½è±¡åŒ–
- `WebCryptoService` å®Ÿè£… (infrastructure layer) - AES-256-GCM æš—å·åŒ–
- `SecureStorage` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (domain layer) - ã‚»ã‚­ãƒ¥ã‚¢ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æŠ½è±¡åŒ–
- `SecureStorageService` å®Ÿè£… (infrastructure layer) - ãƒã‚¹ã‚¿ãƒ¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç®¡ç†
- `SessionManager` (domain layer) - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ãƒ­ã‚¸ãƒƒã‚¯
- `PasswordValidator` (domain layer) - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦æ¤œè¨¼
- `LockoutManager` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ (domain layer) - ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆç®¡ç†æŠ½è±¡åŒ–
- `LockoutManager` å®Ÿè£… (domain layer) - ãƒ­ã‚°ã‚¤ãƒ³å¤±æ•—è¿½è·¡ã¨ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ
- `ChromeStorageLockoutStorage` å®Ÿè£… (infrastructure layer) - ãƒ­ãƒƒã‚¯ã‚¢ã‚¦ãƒˆçŠ¶æ…‹æ°¸ç¶šåŒ–

**ä½¿ç”¨æ–¹æ³•**:
`TokenEncryptionService` ã¯ `CryptoService` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä¾å­˜æ€§æ³¨å…¥ã«ã‚ˆã‚Šå—ã‘å–ã‚Šã€èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æš—å·åŒ–ã—ã¾ã™ã€‚
æ—¢å­˜ã® `SecureStorageService` ã‚‚ `CryptoService` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹è¨­è¨ˆã®ãŸã‚ã€åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¸è¥²ã—ã¦ãã ã•ã„ã€‚

**ãƒ†ã‚¹ãƒˆçµæœ**: 169/169 ãƒ†ã‚¹ãƒˆåˆæ ¼ (Section 3.2 å…¨ä½“)
**è©³ç´°**: `docs/å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹é€£æº/session-2025-10-15-progress.md` å‚ç…§
```

## 2. ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### 2.1 StorageSyncConfig Entity

```typescript
// src/domain/entities/StorageSyncConfig.ts

import { v4 as uuidv4 } from 'uuid';

// åŒæœŸæ–¹æ³•
export type SyncMethod = 'csv' | 'db';

// åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°
export type SyncTiming = 'manual' | 'periodic';

// åŒæœŸç¨®åˆ¥
export type SyncDirection = 'bidirectional' | 'receive_only' | 'send_only';

// èªè¨¼ã‚¿ã‚¤ãƒ—
export type AuthType = 'bearer' | 'oauth2' | 'apikey' | 'basic' | 'none';

// HTTPãƒ¡ã‚½ãƒƒãƒ‰
export type HttpMethod = 'GET' | 'POST' | 'PUT' | 'DELETE' | 'PATCH';

// èªè¨¼è¨­å®š
export interface AuthConfig {
  type: AuthType;
  credentials: {
    token?: string;
    apiKey?: string;
    username?: string;
    password?: string;
    clientId?: string;
    clientSecret?: string;
    accessToken?: string;
    refreshToken?: string;
  };
}

// åŒæœŸã‚¹ãƒ†ãƒƒãƒ—ï¼ˆDBåŒæœŸç”¨ï¼‰
export interface SyncStep {
  id: string;
  name: string;
  method: HttpMethod;
  url: string; // å¤‰æ•°å±•é–‹å¯èƒ½: "https://api.example.com/data/${id}"
  headers: { [key: string]: string };
  body?: string; // JSONæ–‡å­—åˆ—ã€å¤‰æ•°å±•é–‹å¯èƒ½
  responseMapping?: {
    dataPath: string; // JSONPath: "$.data"
    storageMapping: 'replace' | 'merge' | 'custom'; // localStorage ã¸ã®ä¿å­˜æ–¹æ³•
  };
}

// CSVè¨­å®š
export interface CSVConfig {
  encoding: 'utf-8' | 'shift-jis' | 'euc-jp';
  delimiter: ',' | '\t' | ';';
  hasHeader: boolean;
  fieldMapping: {
    csvColumn: string; // CSVã®åˆ—å or ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
    storageField: string; // localStorage ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
  }[];
}

// åŒæœŸè¨­å®šãƒ‡ãƒ¼ã‚¿
export interface StorageSyncConfigData {
  id: string; // UUID v4
  storageKey: string; // localStorage ã®ã‚­ãƒ¼ (ä¾‹: "automationVariables")
  enabled: boolean; // æœ‰åŠ¹/ç„¡åŠ¹

  // 1. åŒæœŸæ–¹æ³•
  syncMethod: SyncMethod;

  // 2. åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°
  syncTiming: SyncTiming;
  syncIntervalSeconds?: number; // å®šæœŸåŒæœŸã®å ´åˆã®é–“éš”ï¼ˆç§’ï¼‰

  // 3. åŒæœŸç¨®åˆ¥
  syncDirection: SyncDirection;

  // 4-1. DBåŒæœŸè¨­å®š
  authConfig?: AuthConfig;
  receiveSteps?: SyncStep[]; // å—ä¿¡ã‚¹ãƒ†ãƒƒãƒ—
  sendSteps?: SyncStep[]; // é€ä¿¡ã‚¹ãƒ†ãƒƒãƒ—

  // 4-2. CSVåŒæœŸè¨­å®š
  csvConfig?: CSVConfig;

  // ç«¶åˆè§£æ±ºãƒãƒªã‚·ãƒ¼
  conflictResolution: 'latest_timestamp' | 'local_priority' | 'remote_priority' | 'user_confirm';

  // åŒæœŸçŠ¶æ…‹
  lastSyncDate?: string; // ISO 8601
  lastSyncStatus?: 'success' | 'failed';
  lastSyncError?: string;

  createdAt: string; // ISO 8601
  updatedAt: string; // ISO 8601
}

export class StorageSyncConfig {
  private data: StorageSyncConfigData;

  constructor(data: StorageSyncConfigData) {
    this.validate(data);
    this.data = { ...data };
  }

  private validate(data: StorageSyncConfigData): void {
    if (!data.id) throw new Error('ID is required');
    if (!data.storageKey) throw new Error('Storage key is required');
    if (!data.syncMethod) throw new Error('Sync method is required');
    if (!data.syncTiming) throw new Error('Sync timing is required');
    if (!data.syncDirection) throw new Error('Sync direction is required');

    // å®šæœŸåŒæœŸã®å ´åˆã€é–“éš”ãŒå¿…é ˆ
    if (data.syncTiming === 'periodic' && !data.syncIntervalSeconds) {
      throw new Error('Sync interval is required for periodic sync');
    }

    // DBåŒæœŸã®å ´åˆã€èªè¨¼è¨­å®šã¨ã‚¹ãƒ†ãƒƒãƒ—ãŒå¿…é ˆ
    if (data.syncMethod === 'db') {
      if (!data.authConfig) throw new Error('Auth config is required for DB sync');
      if (
        data.syncDirection !== 'send_only' &&
        (!data.receiveSteps || data.receiveSteps.length === 0)
      ) {
        throw new Error('Receive steps are required for receiving data');
      }
      if (
        data.syncDirection !== 'receive_only' &&
        (!data.sendSteps || data.sendSteps.length === 0)
      ) {
        throw new Error('Send steps are required for sending data');
      }
    }

    // CSVåŒæœŸã®å ´åˆã€CSVè¨­å®šãŒå¿…é ˆ
    if (data.syncMethod === 'csv') {
      if (!data.csvConfig) throw new Error('CSV config is required for CSV sync');
      if (data.syncTiming === 'periodic') {
        throw new Error('Periodic sync is not supported for CSV sync');
      }
    }
  }

  // Getters
  getId(): string { return this.data.id; }
  getStorageKey(): string { return this.data.storageKey; }
  isEnabled(): boolean { return this.data.enabled; }
  getSyncMethod(): SyncMethod { return this.data.syncMethod; }
  getSyncTiming(): SyncTiming { return this.data.syncTiming; }
  getSyncIntervalSeconds(): number | undefined { return this.data.syncIntervalSeconds; }
  getSyncDirection(): SyncDirection { return this.data.syncDirection; }
  getAuthConfig(): AuthConfig | undefined { return this.data.authConfig; }
  getReceiveSteps(): SyncStep[] | undefined { return this.data.receiveSteps; }
  getSendSteps(): SyncStep[] | undefined { return this.data.sendSteps; }
  getCSVConfig(): CSVConfig | undefined { return this.data.csvConfig; }
  getConflictResolution(): string { return this.data.conflictResolution; }
  getLastSyncDate(): string | undefined { return this.data.lastSyncDate; }
  getLastSyncStatus(): 'success' | 'failed' | undefined { return this.data.lastSyncStatus; }
  getLastSyncError(): string | undefined { return this.data.lastSyncError; }
  getCreatedAt(): string { return this.data.createdAt; }
  getUpdatedAt(): string { return this.data.updatedAt; }

  // Immutable setters
  setEnabled(enabled: boolean): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      enabled,
      updatedAt: new Date().toISOString(),
    });
  }

  setSyncTiming(timing: SyncTiming, intervalSeconds?: number): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      syncTiming: timing,
      syncIntervalSeconds: intervalSeconds,
      updatedAt: new Date().toISOString(),
    });
  }

  setSyncDirection(direction: SyncDirection): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      syncDirection: direction,
      updatedAt: new Date().toISOString(),
    });
  }

  setAuthConfig(authConfig: AuthConfig): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      authConfig,
      updatedAt: new Date().toISOString(),
    });
  }

  setReceiveSteps(steps: SyncStep[]): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      receiveSteps: steps,
      updatedAt: new Date().toISOString(),
    });
  }

  setSendSteps(steps: SyncStep[]): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      sendSteps: steps,
      updatedAt: new Date().toISOString(),
    });
  }

  setCSVConfig(csvConfig: CSVConfig): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      csvConfig,
      updatedAt: new Date().toISOString(),
    });
  }

  setSyncResult(status: 'success' | 'failed', error?: string): StorageSyncConfig {
    return new StorageSyncConfig({
      ...this.data,
      lastSyncDate: new Date().toISOString(),
      lastSyncStatus: status,
      lastSyncError: error,
      updatedAt: new Date().toISOString(),
    });
  }

  // Export
  toData(): StorageSyncConfigData {
    return { ...this.data };
  }

  // Clone
  clone(): StorageSyncConfig {
    return new StorageSyncConfig({ ...this.data });
  }

  // Static factory
  static create(params: {
    storageKey: string;
    syncMethod: SyncMethod;
    syncTiming: SyncTiming;
    syncDirection: SyncDirection;
    syncIntervalSeconds?: number;
    authConfig?: AuthConfig;
    receiveSteps?: SyncStep[];
    sendSteps?: SyncStep[];
    csvConfig?: CSVConfig;
    conflictResolution?: 'latest_timestamp' | 'local_priority' | 'remote_priority' | 'user_confirm';
  }): StorageSyncConfig {
    return new StorageSyncConfig({
      id: uuidv4(),
      storageKey: params.storageKey,
      enabled: true,
      syncMethod: params.syncMethod,
      syncTiming: params.syncTiming,
      syncDirection: params.syncDirection,
      syncIntervalSeconds: params.syncIntervalSeconds,
      authConfig: params.authConfig,
      receiveSteps: params.receiveSteps,
      sendSteps: params.sendSteps,
      csvConfig: params.csvConfig,
      conflictResolution: params.conflictResolution || 'latest_timestamp',
      createdAt: new Date().toISOString(),
      updatedAt: new Date().toISOString(),
    });
  }
}
```

### 2.2 SyncResult Entity

```typescript
// src/domain/entities/SyncResult.ts

export interface SyncResultData {
  id: string;
  syncConfigId: string;
  storageKey: string;
  direction: 'receive' | 'send';
  status: 'success' | 'failed';
  itemsReceived?: number;
  itemsSent?: number;
  itemsUpdated?: number;
  itemsDeleted?: number;
  errorMessage?: string;
  syncedAt: string; // ISO 8601
}

export class SyncResult {
  private data: SyncResultData;

  constructor(data: SyncResultData) {
    this.validate(data);
    this.data = { ...data };
  }

  private validate(data: SyncResultData): void {
    if (!data.id) throw new Error('ID is required');
    if (!data.syncConfigId) throw new Error('Sync config ID is required');
    if (!data.storageKey) throw new Error('Storage key is required');
    if (!data.direction) throw new Error('Direction is required');
    if (!data.status) throw new Error('Status is required');
    if (!data.syncedAt) throw new Error('Synced date is required');
  }

  // Getters
  getId(): string { return this.data.id; }
  getSyncConfigId(): string { return this.data.syncConfigId; }
  getStorageKey(): string { return this.data.storageKey; }
  getDirection(): 'receive' | 'send' { return this.data.direction; }
  getStatus(): 'success' | 'failed' { return this.data.status; }
  getItemsReceived(): number | undefined { return this.data.itemsReceived; }
  getItemsSent(): number | undefined { return this.data.itemsSent; }
  getItemsUpdated(): number | undefined { return this.data.itemsUpdated; }
  getItemsDeleted(): number | undefined { return this.data.itemsDeleted; }
  getErrorMessage(): string | undefined { return this.data.errorMessage; }
  getSyncedAt(): string { return this.data.syncedAt; }

  // Export
  toData(): SyncResultData {
    return { ...this.data };
  }

  // Static factory
  static create(params: {
    syncConfigId: string;
    storageKey: string;
    direction: 'receive' | 'send';
    status: 'success' | 'failed';
    itemsReceived?: number;
    itemsSent?: number;
    itemsUpdated?: number;
    itemsDeleted?: number;
    errorMessage?: string;
  }): SyncResult {
    return new SyncResult({
      id: uuidv4(),
      syncConfigId: params.syncConfigId,
      storageKey: params.storageKey,
      direction: params.direction,
      status: params.status,
      itemsReceived: params.itemsReceived,
      itemsSent: params.itemsSent,
      itemsUpdated: params.itemsUpdated,
      itemsDeleted: params.itemsDeleted,
      errorMessage: params.errorMessage,
      syncedAt: new Date().toISOString(),
    });
  }
}
```

## 3. Repository è¨­è¨ˆ

### 3.1 IStorageSyncConfigRepository

```typescript
// src/domain/repositories/IStorageSyncConfigRepository.ts

import { StorageSyncConfig } from '@domain/entities/StorageSyncConfig';

export interface IStorageSyncConfigRepository {
  /**
   * Save storage sync config
   */
  save(config: StorageSyncConfig): Promise<void>;

  /**
   * Load storage sync config by ID
   */
  load(id: string): Promise<StorageSyncConfig | null>;

  /**
   * Load storage sync config by storage key
   */
  loadByStorageKey(storageKey: string): Promise<StorageSyncConfig | null>;

  /**
   * Load all storage sync configs
   */
  loadAll(): Promise<StorageSyncConfig[]>;

  /**
   * Load all enabled storage sync configs for periodic sync
   */
  loadAllEnabledPeriodic(): Promise<StorageSyncConfig[]>;

  /**
   * Delete storage sync config by ID
   */
  delete(id: string): Promise<void>;

  /**
   * Delete storage sync config by storage key
   */
  deleteByStorageKey(storageKey: string): Promise<void>;

  /**
   * Check if storage sync config exists
   */
  exists(id: string): Promise<boolean>;

  /**
   * Check if storage sync config exists for storage key
   */
  existsByStorageKey(storageKey: string): Promise<boolean>;
}
```

## 4. Service è¨­è¨ˆ

### 4.1 ISyncService

```typescript
// src/domain/services/ISyncService.ts

import { StorageSyncConfig } from '@domain/entities/StorageSyncConfig';
import { SyncResult } from '@domain/entities/SyncResult';

export interface ISyncService {
  /**
   * Execute sync (receive and/or send based on config)
   */
  executeSync(config: StorageSyncConfig): Promise<SyncResult[]>;

  /**
   * Test sync connection (dry-run)
   */
  testSync(config: StorageSyncConfig): Promise<{
    receiveTest?: { success: boolean; itemCount?: number; error?: string };
    sendTest?: { success: boolean; itemCount?: number; error?: string };
  }>;
}
```

### 4.2 DBSyncService

```typescript
// src/infrastructure/services/DBSyncService.ts

import { ISyncService } from '@domain/services/ISyncService';
import { StorageSyncConfig } from '@domain/entities/StorageSyncConfig';
import { SyncResult } from '@domain/entities/SyncResult';
import { IHttpClient } from '@domain/services/IHttpClient';
import { IDataMapper } from '@domain/services/IDataMapper';
import { ILogger } from '@domain/services/ILogger';
import browser from 'webextension-polyfill';

export class DBSyncService implements ISyncService {
  constructor(
    private httpClient: IHttpClient,
    private dataMapper: IDataMapper,
    private logger: ILogger
  ) {}

  async executeSync(config: StorageSyncConfig): Promise<SyncResult[]> {
    const results: SyncResult[] = [];
    const direction = config.getSyncDirection();

    // å—ä¿¡å‡¦ç†
    if (direction === 'bidirectional' || direction === 'receive_only') {
      const receiveResult = await this.executeReceive(config);
      results.push(receiveResult);
    }

    // é€ä¿¡å‡¦ç†
    if (direction === 'bidirectional' || direction === 'send_only') {
      const sendResult = await this.executeSend(config);
      results.push(sendResult);
    }

    return results;
  }

  async testSync(config: StorageSyncConfig): Promise<{
    receiveTest?: { success: boolean; itemCount?: number; error?: string };
    sendTest?: { success: boolean; itemCount?: number; error?: string };
  }> {
    const result: any = {};
    const direction = config.getSyncDirection();

    // å—ä¿¡ãƒ†ã‚¹ãƒˆ
    if (direction === 'bidirectional' || direction === 'receive_only') {
      try {
        const testResult = await this.testReceive(config);
        result.receiveTest = {
          success: true,
          itemCount: testResult.itemCount,
        };
      } catch (error) {
        result.receiveTest = {
          success: false,
          error: error.message,
        };
      }
    }

    // é€ä¿¡ãƒ†ã‚¹ãƒˆ
    if (direction === 'bidirectional' || direction === 'send_only') {
      try {
        const testResult = await this.testSend(config);
        result.sendTest = {
          success: true,
          itemCount: testResult.itemCount,
        };
      } catch (error) {
        result.sendTest = {
          success: false,
          error: error.message,
        };
      }
    }

    return result;
  }

  private async executeReceive(config: StorageSyncConfig): Promise<SyncResult> {
    try {
      this.logger.info(`Executing receive sync for ${config.getStorageKey()}`);

      const receiveSteps = config.getReceiveSteps();
      if (!receiveSteps || receiveSteps.length === 0) {
        throw new Error('No receive steps configured');
      }

      let receivedData: any = null;

      // ã‚¹ãƒ†ãƒƒãƒ—ã‚’é †ç•ªã«å®Ÿè¡Œ
      for (const step of receiveSteps) {
        const request = this.buildRequest(step, {}, config.getAuthConfig());
        const response = await this.httpClient.request(request);

        if (response.status < 200 || response.status >= 300) {
          throw new Error(`HTTP ${response.status}: ${response.body}`);
        }

        const responseData = JSON.parse(response.body);

        // ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒãƒƒãƒ”ãƒ³ã‚°ã«åŸºã¥ã„ã¦ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
        if (step.responseMapping) {
          receivedData = this.dataMapper.extract(responseData, step.responseMapping.dataPath);
        } else {
          receivedData = responseData;
        }
      }

      // localStorage ã«ä¿å­˜
      const storageKey = config.getStorageKey();
      const existingData = await this.loadFromStorage(storageKey);
      const mergedData = this.mergeData(existingData, receivedData, config.getConflictResolution());

      await this.saveToStorage(storageKey, mergedData);

      const itemCount = Array.isArray(receivedData) ? receivedData.length : 1;

      this.logger.info(`Receive sync completed: ${itemCount} items`);

      return SyncResult.create({
        syncConfigId: config.getId(),
        storageKey: config.getStorageKey(),
        direction: 'receive',
        status: 'success',
        itemsReceived: itemCount,
      });
    } catch (error) {
      this.logger.error('Receive sync failed', error);

      return SyncResult.create({
        syncConfigId: config.getId(),
        storageKey: config.getStorageKey(),
        direction: 'receive',
        status: 'failed',
        errorMessage: error.message,
      });
    }
  }

  private async executeSend(config: StorageSyncConfig): Promise<SyncResult> {
    try {
      this.logger.info(`Executing send sync for ${config.getStorageKey()}`);

      const sendSteps = config.getSendSteps();
      if (!sendSteps || sendSteps.length === 0) {
        throw new Error('No send steps configured');
      }

      // localStorage ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
      const storageKey = config.getStorageKey();
      const localData = await this.loadFromStorage(storageKey);

      // ã‚¹ãƒ†ãƒƒãƒ—ã‚’é †ç•ªã«å®Ÿè¡Œ
      for (const step of sendSteps) {
        const request = this.buildRequest(
          step,
          { localStorage: JSON.stringify(localData) },
          config.getAuthConfig()
        );
        const response = await this.httpClient.request(request);

        if (response.status < 200 || response.status >= 300) {
          throw new Error(`HTTP ${response.status}: ${response.body}`);
        }
      }

      const itemCount = Array.isArray(localData) ? localData.length : 1;

      this.logger.info(`Send sync completed: ${itemCount} items`);

      return SyncResult.create({
        syncConfigId: config.getId(),
        storageKey: config.getStorageKey(),
        direction: 'send',
        status: 'success',
        itemsSent: itemCount,
      });
    } catch (error) {
      this.logger.error('Send sync failed', error);

      return SyncResult.create({
        syncConfigId: config.getId(),
        storageKey: config.getStorageKey(),
        direction: 'send',
        status: 'failed',
        errorMessage: error.message,
      });
    }
  }

  private async testReceive(config: StorageSyncConfig): Promise<{ itemCount: number }> {
    // executeReceive ã¨åŒã˜ã ãŒã€localStorage ã«ã¯ä¿å­˜ã—ãªã„
    const receiveSteps = config.getReceiveSteps();
    if (!receiveSteps || receiveSteps.length === 0) {
      throw new Error('No receive steps configured');
    }

    let receivedData: any = null;

    for (const step of receiveSteps) {
      const request = this.buildRequest(step, {}, config.getAuthConfig());
      const response = await this.httpClient.request(request);

      if (response.status < 200 || response.status >= 300) {
        throw new Error(`HTTP ${response.status}: ${response.body}`);
      }

      const responseData = JSON.parse(response.body);

      if (step.responseMapping) {
        receivedData = this.dataMapper.extract(responseData, step.responseMapping.dataPath);
      } else {
        receivedData = responseData;
      }
    }

    const itemCount = Array.isArray(receivedData) ? receivedData.length : 1;
    return { itemCount };
  }

  private async testSend(config: StorageSyncConfig): Promise<{ itemCount: number }> {
    // executeSend ã¨åŒã˜
    const sendSteps = config.getSendSteps();
    if (!sendSteps || sendSteps.length === 0) {
      throw new Error('No send steps configured');
    }

    const storageKey = config.getStorageKey();
    const localData = await this.loadFromStorage(storageKey);

    for (const step of sendSteps) {
      const request = this.buildRequest(
        step,
        { localStorage: JSON.stringify(localData) },
        config.getAuthConfig()
      );
      const response = await this.httpClient.request(request);

      if (response.status < 200 || response.status >= 300) {
        throw new Error(`HTTP ${response.status}: ${response.body}`);
      }
    }

    const itemCount = Array.isArray(localData) ? localData.length : 1;
    return { itemCount };
  }

  private buildRequest(step: any, variables: any, authConfig: any): any {
    // URL: å¤‰æ•°ç½®æ›
    let url = step.url;
    for (const [key, value] of Object.entries(variables)) {
      url = url.replace(new RegExp(`\\$\\{${key}\\}`, 'g'), String(value));
    }

    // Headers: èªè¨¼æƒ…å ±ã‚’è¿½åŠ 
    const headers = { ...step.headers };

    if (authConfig?.type === 'bearer' && authConfig.credentials.token) {
      headers['Authorization'] = `Bearer ${authConfig.credentials.token}`;
    } else if (authConfig?.type === 'apikey' && authConfig.credentials.apiKey) {
      headers['X-API-Key'] = authConfig.credentials.apiKey;
    } else if (authConfig?.type === 'basic' && authConfig.credentials.username) {
      const credentials = btoa(
        `${authConfig.credentials.username}:${authConfig.credentials.password}`
      );
      headers['Authorization'] = `Basic ${credentials}`;
    }

    // Body: å¤‰æ•°ç½®æ›
    let body = step.body;
    if (body) {
      for (const [key, value] of Object.entries(variables)) {
        body = body.replace(new RegExp(`\\$\\{${key}\\}`, 'g'), String(value));
      }
    }

    return {
      method: step.method,
      url,
      headers,
      body,
      timeout: 30000,
    };
  }

  private async loadFromStorage(key: string): Promise<any> {
    const result = await browser.storage.local.get(key);
    return result[key] || null;
  }

  private async saveToStorage(key: string, data: any): Promise<void> {
    await browser.storage.local.set({ [key]: data });
  }

  private mergeData(existing: any, received: any, resolution: string): any {
    // ç°¡æ˜“å®Ÿè£…: received ã§ä¸Šæ›¸ã
    // TODO: ç«¶åˆè§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…
    return received;
  }
}
```

### 4.3 CSVSyncService

```typescript
// src/infrastructure/services/CSVSyncService.ts

import { ISyncService } from '@domain/services/ISyncService';
import { StorageSyncConfig } from '@domain/entities/StorageSyncConfig';
import { SyncResult } from '@domain/entities/SyncResult';
import { ICSVConverter } from '@domain/services/ICSVConverter';
import { ILogger } from '@domain/services/ILogger';
import browser from 'webextension-polyfill';

export class CSVSyncService implements ISyncService {
  constructor(
    private csvConverter: ICSVConverter,
    private logger: ILogger
  ) {}

  async executeSync(config: StorageSyncConfig): Promise<SyncResult[]> {
    throw new Error('CSV sync must be executed manually via import/export');
  }

  async testSync(config: StorageSyncConfig): Promise<any> {
    // CSV åŒæœŸã«ã¯ãƒ†ã‚¹ãƒˆã¯ä¸è¦
    return { success: true };
  }

  /**
   * Import CSV file to localStorage
   */
  async importCSV(config: StorageSyncConfig, csvContent: string): Promise<SyncResult> {
    try {
      this.logger.info(`Importing CSV for ${config.getStorageKey()}`);

      const csvConfig = config.getCSVConfig();
      if (!csvConfig) {
        throw new Error('CSV config is not defined');
      }

      // CSV ã‚’ãƒ‘ãƒ¼ã‚¹
      const parsedData = await this.csvConverter.parse(csvContent, {
        delimiter: csvConfig.delimiter,
        hasHeader: csvConfig.hasHeader,
      });

      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’é©ç”¨
      const mappedData = this.applyFieldMapping(parsedData, csvConfig.fieldMapping);

      // localStorage ã«ä¿å­˜
      const storageKey = config.getStorageKey();
      const existingData = await this.loadFromStorage(storageKey);
      const mergedData = this.mergeData(existingData, mappedData, config.getConflictResolution());

      await this.saveToStorage(storageKey, mergedData);

      const itemCount = Array.isArray(mappedData) ? mappedData.length : 1;

      this.logger.info(`CSV import completed: ${itemCount} items`);

      return SyncResult.create({
        syncConfigId: config.getId(),
        storageKey: config.getStorageKey(),
        direction: 'receive',
        status: 'success',
        itemsReceived: itemCount,
      });
    } catch (error) {
      this.logger.error('CSV import failed', error);

      return SyncResult.create({
        syncConfigId: config.getId(),
        storageKey: config.getStorageKey(),
        direction: 'receive',
        status: 'failed',
        errorMessage: error.message,
      });
    }
  }

  /**
   * Export localStorage to CSV file
   */
  async exportCSV(config: StorageSyncConfig): Promise<{ csvContent: string; itemCount: number }> {
    try {
      this.logger.info(`Exporting CSV for ${config.getStorageKey()}`);

      const csvConfig = config.getCSVConfig();
      if (!csvConfig) {
        throw new Error('CSV config is not defined');
      }

      // localStorage ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿
      const storageKey = config.getStorageKey();
      const localData = await this.loadFromStorage(storageKey);

      // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚°ã‚’é€†é©ç”¨
      const unmappedData = this.reverseFieldMapping(localData, csvConfig.fieldMapping);

      // CSV ç”Ÿæˆ
      const csvContent = await this.csvConverter.generate(unmappedData, {
        delimiter: csvConfig.delimiter,
        hasHeader: csvConfig.hasHeader,
      });

      const itemCount = Array.isArray(localData) ? localData.length : 1;

      this.logger.info(`CSV export completed: ${itemCount} items`);

      return { csvContent, itemCount };
    } catch (error) {
      this.logger.error('CSV export failed', error);
      throw error;
    }
  }

  private applyFieldMapping(data: any[], mapping: any[]): any[] {
    return data.map((row) => {
      const mapped: any = {};
      for (const map of mapping) {
        if (row[map.csvColumn] !== undefined) {
          mapped[map.storageField] = row[map.csvColumn];
        }
      }
      return mapped;
    });
  }

  private reverseFieldMapping(data: any[], mapping: any[]): any[] {
    return data.map((item) => {
      const unmapped: any = {};
      for (const map of mapping) {
        if (item[map.storageField] !== undefined) {
          unmapped[map.csvColumn] = item[map.storageField];
        }
      }
      return unmapped;
    });
  }

  private async loadFromStorage(key: string): Promise<any> {
    const result = await browser.storage.local.get(key);
    return result[key] || null;
  }

  private async saveToStorage(key: string, data: any): Promise<void> {
    await browser.storage.local.set({ [key]: data });
  }

  private mergeData(existing: any, received: any, resolution: string): any {
    // ç°¡æ˜“å®Ÿè£…: received ã§ä¸Šæ›¸ã
    // TODO: ç«¶åˆè§£æ±ºãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…
    return received;
  }
}
```

## 5. Use Case è¨­è¨ˆ

### 5.1 ExecuteStorageSyncUseCase

```typescript
// src/usecases/ExecuteStorageSyncUseCase.ts

import { StorageSyncConfig } from '@domain/entities/StorageSyncConfig';
import { SyncResult } from '@domain/entities/SyncResult';
import { IStorageSyncConfigRepository } from '@domain/repositories/IStorageSyncConfigRepository';
import { ISyncService } from '@domain/services/ISyncService';
import { ILogger } from '@domain/services/ILogger';

export class ExecuteStorageSyncUseCase {
  constructor(
    private syncConfigRepo: IStorageSyncConfigRepository,
    private dbSyncService: ISyncService, // DBSyncService
    private csvSyncService: ISyncService, // CSVSyncService
    private logger: ILogger
  ) {}

  async execute(configIdOrStorageKey: string): Promise<SyncResult[]> {
    // 1. Load sync config
    let config = await this.syncConfigRepo.load(configIdOrStorageKey);
    if (!config) {
      config = await this.syncConfigRepo.loadByStorageKey(configIdOrStorageKey);
    }

    if (!config) {
      throw new Error(`Sync config not found: ${configIdOrStorageKey}`);
    }

    if (!config.isEnabled()) {
      throw new Error(`Sync is disabled for: ${config.getStorageKey()}`);
    }

    // 2. Execute sync based on method
    let results: SyncResult[];

    if (config.getSyncMethod() === 'db') {
      results = await this.dbSyncService.executeSync(config);
    } else if (config.getSyncMethod() === 'csv') {
      throw new Error('CSV sync must be executed via importCSV/exportCSV methods');
    } else {
      throw new Error(`Unknown sync method: ${config.getSyncMethod()}`);
    }

    // 3. Update sync config with result
    const lastResult = results[results.length - 1];
    const updatedConfig = config.setSyncResult(
      lastResult.getStatus(),
      lastResult.getErrorMessage()
    );
    await this.syncConfigRepo.save(updatedConfig);

    return results;
  }
}
```

## 6. StorageKeys ã®æ›´æ–°

```typescript
// src/domain/constants/StorageKeys.ts

export const STORAGE_KEYS = {
  XPATH_COLLECTION: 'xpathCollectionCSV',
  WEBSITE_CONFIGS: 'websiteConfigs',
  SYSTEM_SETTINGS: 'systemSettings',
  AUTOMATION_VARIABLES: 'automationVariables',
  AUTOMATION_RESULTS: 'automationResults',
  STORAGE_SYNC_CONFIGS: 'storageSyncConfigs', // è¿½åŠ 
} as const;
```

## 7. å®šæœŸåŒæœŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼

```typescript
// src/infrastructure/scheduler/PeriodicSyncScheduler.ts

import { IStorageSyncConfigRepository } from '@domain/repositories/IStorageSyncConfigRepository';
import { ExecuteStorageSyncUseCase } from '@usecases/ExecuteStorageSyncUseCase';
import { ILogger } from '@domain/services/ILogger';

export class PeriodicSyncScheduler {
  private timers: Map<string, number> = new Map();

  constructor(
    private syncConfigRepo: IStorageSyncConfigRepository,
    private executeSyncUseCase: ExecuteStorageSyncUseCase,
    private logger: ILogger
  ) {}

  /**
   * Start periodic sync scheduler
   */
  async start(): Promise<void> {
    this.logger.info('Starting periodic sync scheduler');

    // Load all enabled periodic sync configs
    const configs = await this.syncConfigRepo.loadAllEnabledPeriodic();

    for (const config of configs) {
      this.scheduleSync(config.getId(), config.getSyncIntervalSeconds()!);
    }
  }

  /**
   * Stop periodic sync scheduler
   */
  stop(): void {
    this.logger.info('Stopping periodic sync scheduler');

    for (const [configId, timerId] of this.timers.entries()) {
      clearInterval(timerId);
      this.logger.info(`Stopped sync timer for config: ${configId}`);
    }

    this.timers.clear();
  }

  /**
   * Schedule sync for a config
   */
  scheduleSync(configId: string, intervalSeconds: number): void {
    // Clear existing timer if any
    if (this.timers.has(configId)) {
      clearInterval(this.timers.get(configId)!);
    }

    // Set new timer
    const timerId = setInterval(async () => {
      try {
        this.logger.info(`Executing periodic sync for config: ${configId}`);
        await this.executeSyncUseCase.execute(configId);
      } catch (error) {
        this.logger.error(`Periodic sync failed for config: ${configId}`, error);
      }
    }, intervalSeconds * 1000);

    this.timers.set(configId, timerId as any);
    this.logger.info(`Scheduled sync timer for config: ${configId} (${intervalSeconds}s)`);
  }

  /**
   * Unschedule sync for a config
   */
  unscheduleSync(configId: string): void {
    if (this.timers.has(configId)) {
      clearInterval(this.timers.get(configId)!);
      this.timers.delete(configId);
      this.logger.info(`Unscheduled sync timer for config: ${configId}`);
    }
  }

  /**
   * Reschedule sync for a config (update interval)
   */
  rescheduleSync(configId: string, intervalSeconds: number): void {
    this.unscheduleSync(configId);
    this.scheduleSync(configId, intervalSeconds);
  }
}
```

---

# ä½œæ¥­æ‰‹é †

## Phase 1: Entity & Repository (4æ—¥)

### 1.1 Entity ä½œæˆ
- [ ] StorageSyncConfig ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
- [ ] SyncResult ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ä½œæˆ
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ

### 1.2 Repository ä½œæˆ
- [ ] IStorageSyncConfigRepository ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä½œæˆ
- [ ] ChromeStorageStorageSyncConfigRepository å®Ÿè£…
- [ ] TokenEncryptionService å®Ÿè£…ï¼ˆ**CryptoService ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½¿ç”¨** - Phase 1ã§å®Ÿè£…æ¸ˆã¿ï¼‰
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ

**Note**: `CryptoService` ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ `WebCryptoService` å®Ÿè£…ã¯ Phase 1 (Section 3.2) ã§å®Œäº†æ¸ˆã¿ã€‚
`TokenEncryptionService` ã¯ä¾å­˜æ€§æ³¨å…¥ã«ã‚ˆã‚Š `CryptoService` ã‚’å—ã‘å–ã‚‹è¨­è¨ˆã¨ã™ã‚‹ã€‚

### 1.3 StorageKeys æ›´æ–°
- [ ] STORAGE_KEYS ã« STORAGE_SYNC_CONFIGS è¿½åŠ 

## Phase 2: Services (5æ—¥)

### 2.1 HTTP Client & Data Mapper
- [ ] IHttpClient ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä½œæˆ
- [ ] ChromeHttpClient å®Ÿè£…
- [ ] IDataMapper ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä½œæˆ
- [ ] JsonPathDataMapper å®Ÿè£…
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ

### 2.2 Sync Services
- [ ] ISyncService ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä½œæˆ
- [ ] DBSyncService å®Ÿè£…
- [ ] CSVSyncService å®Ÿè£…
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ

### 2.3 CSV Converter
- [ ] ICSVConverter ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ä½œæˆ
- [ ] CSVConverter å®Ÿè£…ï¼ˆPapaParse ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½¿ç”¨ï¼‰
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ

### 2.4 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 
- [ ] `npm install jsonpath papaparse` å®Ÿè¡Œ
- [ ] `npm install --save-dev @types/papaparse` å®Ÿè¡Œ

## Phase 3: Use Cases (4æ—¥)

### 3.1 CRUD Use Cases
- [ ] CreateStorageSyncConfigUseCase
- [ ] UpdateStorageSyncConfigUseCase
- [ ] DeleteStorageSyncConfigUseCase
- [ ] GetStorageSyncConfigsUseCase
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ

### 3.2 Sync Use Cases
- [ ] ExecuteStorageSyncUseCase
- [ ] ImportCSVUseCase
- [ ] ExportCSVUseCase
- [ ] TestStorageSyncUseCase
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ
- [ ] çµ±åˆãƒ†ã‚¹ãƒˆä½œæˆ

## Phase 4: Scheduler (2æ—¥)

### 4.1 å®šæœŸåŒæœŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼
- [ ] PeriodicSyncScheduler å®Ÿè£…
- [ ] background script ã«çµ±åˆ
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆä½œæˆ

## Phase 5: UI - ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ– (6æ—¥)

### 5.1 ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–è¿½åŠ 
- [ ] SystemSettingsManager ã«ãƒ‡ãƒ¼ã‚¿åŒæœŸã‚¿ãƒ–è¿½åŠ 
- [ ] StorageSyncList ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- [ ] localStorage ã‚­ãƒ¼ã”ã¨ã®åŒæœŸè¨­å®šè¡¨ç¤º

### 5.2 åŒæœŸè¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«
- [ ] StorageSyncConfigModal ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- [ ] åŒæœŸæ–¹æ³•é¸æŠãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [ ] åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ãƒ»ç¨®åˆ¥è¨­å®šãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [ ] DBåŒæœŸ: èªè¨¼è¨­å®šãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [ ] DBåŒæœŸ: å—ä¿¡ã‚¹ãƒ†ãƒƒãƒ—è¨­å®šãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [ ] DBåŒæœŸ: é€ä¿¡ã‚¹ãƒ†ãƒƒãƒ—è¨­å®šãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…
- [ ] CSVåŒæœŸ: CSVè¨­å®šãƒ•ã‚©ãƒ¼ãƒ å®Ÿè£…

### 5.3 ãƒ†ã‚¹ãƒˆæ©Ÿèƒ½
- [ ] DBåŒæœŸ: å—ä¿¡ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒœã‚¿ãƒ³å®Ÿè£…
- [ ] DBåŒæœŸ: é€ä¿¡ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒœã‚¿ãƒ³å®Ÿè£…
- [ ] ãƒ†ã‚¹ãƒˆçµæœè¡¨ç¤ºå®Ÿè£…

### 5.4 æ‰‹å‹•åŒæœŸæ©Ÿèƒ½
- [ ] DBåŒæœŸ: ã€Œä»Šã™ãåŒæœŸã€ãƒœã‚¿ãƒ³å®Ÿè£…
- [ ] CSVåŒæœŸ: ã€Œã‚¤ãƒ³ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³å®Ÿè£…
- [ ] CSVåŒæœŸ: ã€Œã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ãƒœã‚¿ãƒ³å®Ÿè£…
- [ ] åŒæœŸé€²æ—è¡¨ç¤ºå®Ÿè£…
- [ ] åŒæœŸçµæœé€šçŸ¥å®Ÿè£…

### 5.5 ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- [ ] CSS ä½œæˆ
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

### 5.6 å¤šè¨€èªå¯¾å¿œ
- [ ] messages.json ã«æ–‡è¨€è¿½åŠ ï¼ˆæ—¥æœ¬èªãƒ»è‹±èªï¼‰

## Phase 6: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° & ç«¶åˆè§£æ±º (3æ—¥)

### 6.1 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] èªè¨¼ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] ãƒ‡ãƒ¼ã‚¿å½¢å¼ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] CSVå½¢å¼ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] ã‚¨ãƒ©ãƒ¼é€šçŸ¥å®Ÿè£…

### 6.2 ç«¶åˆè§£æ±º
- [ ] ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—æ¯”è¼ƒãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- [ ] ç«¶åˆè§£æ±ºãƒãƒªã‚·ãƒ¼ã®å®Ÿè£…
- [ ] ç«¶åˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°å®Ÿè£…ï¼ˆuser_confirm ã®å ´åˆï¼‰

### 6.3 ãƒªãƒˆãƒ©ã‚¤å‡¦ç†
- [ ] DBåŒæœŸã®ãƒªãƒˆãƒ©ã‚¤å‡¦ç†å®Ÿè£…
- [ ] ãƒªãƒˆãƒ©ã‚¤å›æ•°ãƒ»é–“éš”è¨­å®š

## Phase 7: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ & ãƒ†ã‚¹ãƒˆ (3æ—¥)

### 7.1 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ä½œæˆ
- [ ] API è¨­å®šä¾‹ï¼ˆNotionã€Google Sheetsã€ã‚«ã‚¹ã‚¿ãƒ APIï¼‰ä½œæˆ
- [ ] CSV ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¾‹ä½œæˆ
- [ ] ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰ä½œæˆ

### 7.2 ç·åˆãƒ†ã‚¹ãƒˆ
- [ ] E2E ãƒ†ã‚¹ãƒˆå®Ÿæ–½
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ
- [ ] å®šæœŸåŒæœŸã®å‹•ä½œç¢ºèª

## Phase 8: ãƒªãƒªãƒ¼ã‚¹æº–å‚™ (1æ—¥)

### 8.1 æœ€çµ‚ç¢ºèª
- [ ] ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
- [ ] ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæœ€çµ‚ç¢ºèª

### 8.2 ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆä½œæˆ
- [ ] å¤‰æ›´å†…å®¹ã¾ã¨ã‚
- [ ] ä½¿ç”¨æ–¹æ³•èª¬æ˜

---

# æ¨å®šå·¥æ•°

- Phase 1: 4æ—¥
- Phase 2: 5æ—¥
- Phase 3: 4æ—¥
- Phase 4: 2æ—¥
- Phase 5: 6æ—¥
- Phase 6: 3æ—¥
- Phase 7: 3æ—¥
- Phase 8: 1æ—¥

**åˆè¨ˆ: 28æ—¥**

---

# ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

## ãƒªã‚¹ã‚¯1: å®šæœŸåŒæœŸã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿

**ãƒªã‚¹ã‚¯**: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã®å®šæœŸåŒæœŸãŒé‡ããªã‚‹

**å¯¾ç­–**:
- åŒæœŸé–“éš”ã®æœ€å°å€¤ã‚’è¨­å®šï¼ˆä¾‹: 60ç§’ä»¥ä¸Šï¼‰
- åŒæœŸä¸­ã¯ãƒãƒƒãƒå‡¦ç†ã‚’æœ€é©åŒ–
- åŒæœŸå¤±æ•—æ™‚ã®æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ•

## ãƒªã‚¹ã‚¯2: localStorage ãƒ‡ãƒ¼ã‚¿ã®ç ´æ

**ãƒªã‚¹ã‚¯**: åŒæœŸä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã€ãƒ‡ãƒ¼ã‚¿ãŒç ´æã™ã‚‹

**å¯¾ç­–**:
- åŒæœŸå‰ã«ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’ä½œæˆ
- ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒŠãƒ«ãªæ›´æ–°
- ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯æ©Ÿèƒ½

## ãƒªã‚¹ã‚¯3: CSV ã‚¤ãƒ³ãƒãƒ¼ãƒˆã®äº’æ›æ€§

**ãƒªã‚¹ã‚¯**: æ§˜ã€…ãª CSV å½¢å¼ã«å¯¾å¿œã™ã‚‹å¿…è¦ãŒã‚ã‚‹

**å¯¾ç­–**:
- PapaParse ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§æŸ”è»Ÿã«å¯¾å¿œ
- ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ©Ÿèƒ½ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆå‰ã«ç¢ºèª
- ã‚¨ãƒ©ãƒ¼æ™‚ã®è©³ç´°ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

## ãƒªã‚¹ã‚¯4: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ‡¸å¿µ

**ãƒªã‚¹ã‚¯**: èªè¨¼æƒ…å ±ã®æ¼æ´©ã€ä¸æ­£ãªãƒ‡ãƒ¼ã‚¿ã®å—ä¿¡

**å¯¾ç­–**:
- èªè¨¼æƒ…å ±ã®æš—å·åŒ–
- ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼
- HTTPS å¿…é ˆ

---

# ä»Šå¾Œã®æ‹¡å¼µæ¡ˆ

1. **ãƒ—ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½**: Notionã€Google Sheets ç”¨ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
2. **å·®åˆ†åŒæœŸ**: å¤‰æ›´ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã®ã¿ã‚’é€å—ä¿¡
3. **åŒæœŸå±¥æ­´**: éå»ã®åŒæœŸçµæœã‚’ä¸€è¦§è¡¨ç¤º
4. **Webhook ã‚µãƒãƒ¼ãƒˆ**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ä¿¡
5. **è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå¯¾å¿œ**: åŒã˜ã‚µãƒ¼ãƒ“ã‚¹ã§è¤‡æ•°ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ç®¡ç†
6. **åŒæœŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«**: æ™‚åˆ»æŒ‡å®šã§ã®åŒæœŸ
7. **ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°**: åŒæœŸã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã®æ¡ä»¶æŒ‡å®š
8. **ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†**: ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´å±¥æ­´ã‚’ä¿æŒ
