#!/bin/sh
set -e

echo "ğŸ” Pre-commit checks starting..."

# Lint-stagedå®Ÿè¡Œï¼ˆã‚¹ãƒ†ãƒ¼ã‚¸ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼‰
npx lint-staged

# ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè‡ªå‹•æ›´æ–°ï¼ˆmessages.jsonå¤‰æ›´æ™‚ï¼‰
if git diff --cached --name-only | grep -q "messages.json"; then
  echo "ğŸ“ Updating error code documentation..."
  npm run error:docs
  git add docs/error-codes/
fi

# Claude Code Agent Hooksé€£æºé€šçŸ¥
echo "ğŸ’¡ Tip: Claude Codeã® 'ğŸ” ã‚³ãƒŸãƒƒãƒˆå‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿè¡Œ' ã¨ 'ğŸ“ ã‚³ãƒŸãƒƒãƒˆå“è³ªãƒã‚§ãƒƒã‚¯' Hooksã‚‚åˆ©ç”¨å¯èƒ½ã§ã™"

echo "âœ… Pre-commit checks completed!"
